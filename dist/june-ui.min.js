/*!
 *  
 *  june-ui v0.1.6 
 *   
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["june-ui"]=t():e["june-ui"]=t()}(window,function(){return r={},a.m=n=[function(e,t){e.exports=require("react")},function(e,t){e.exports=require("antd")},function(e,t){e.exports=require("@babel/runtime/helpers/objectWithoutProperties")},function(e,t){e.exports=require("@babel/runtime/helpers/extends")},function(e,t){e.exports=require("@babel/runtime/regenerator")},function(e,t){e.exports=require("@babel/runtime/helpers/slicedToArray")},function(e,t){e.exports=require("@babel/runtime/helpers/asyncToGenerator")},function(e,t){e.exports=require("@ant-design/icons")},function(e,t){e.exports=require("bpmn-js/lib/NavigatedViewer")},function(e,t){e.exports=require("@babel/runtime/helpers/toConsumableArray")},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"Alert",function(){return a}),n.d(t,"FlowTabs",function(){return D}),n.d(t,"TabPane",function(){return B}),n.d(t,"FlowList",function(){return c}),n.d(t,"FlowRecord",function(){return H}),n.d(t,"FlowViewer",function(){return V}),n.d(t,"FlowDetail",function(){return u}),n.d(t,"FlowActionButtons",function(){return X}),n.d(t,"FlowTransferModal",function(){return z});var r=n(2),A=n.n(r),q=n(0),M=n.n(q);var a=function(e){e.children,e.kink;var t=A()(e,["children","kink"]);return Object(q.useEffect)(function(){return console.log("%cjune-ui Alert mounted!","font-size: 18px;"),function(){}},[]),M.a.createElement("div",t,e.children)},o=n(3),P=n.n(o),l=n(5),_=n.n(l),R=n(1),B=R.Tabs.TabPane;function D(e){var t=e.children,n=A()(e,["children"]);return M.a.createElement(R.Tabs,n,t)}n(10);function c(a){function n(e){"function"==typeof t&&t(e)}var e,o=this,t=a.onTabChange,r=(a.renderTabs,a.renderContent,a.TableComponent),l=a.TabsComponent,c=(a.request,a.listApi,a.tabProps),i=void 0===c?{}:c,u=A()(a,["onTabChange","renderTabs","renderContent","TableComponent","TabsComponent","request","listApi","tabProps"]),s=Object(q.useRef)([{name:"全部（??/??）",key:"all"},{name:"待审批（??）",key:"wait"},{name:"已审批（??）",key:"accept"},{name:"已完结（??）",key:"done"}]),d=Object(q.useState)(null==s||null===(e=s.current[0])||void 0===e?void 0:e.key),f=_()(d,2),m=f[0];f[1];return M.a.createElement("div",{className:"flow-list"},function(){var e;if("function"==typeof a.renderTabs)return a.renderTabs(a);var t=l||D;return M.a.createElement(t,P()({defaultActiveKey:m,onChange:n},i),null===(e=s.current)||void 0===e?void 0:e.map(function(e){return M.a.createElement(B,{tab:e.name,key:e.key})}))}(),function(){if("function"==typeof a.renderContent)return a.renderContent(a);var e=[{title:"流程标题",dataIndex:"title",key:"title",width:200},{title:"状态",dataIndex:"stateDesc",key:"stateDesc",width:100},{title:"发起人",dataIndex:"createdBy",key:"createdBy",width:100},{title:"审批节点",dataIndex:"currentNodeNames",key:"currentNodeNames",width:200},{title:"审批人",dataIndex:"auditorNames",key:"auditorNames",width:200},{title:"流程发起时间",dataIndex:"procCreateTime",key:"procCreateTime",width:200},{title:"任务创建时间",dataIndex:"currentFirstTaskCreatedTime",key:"currentFirstTaskCreatedTime",width:200},{title:"结束日期",dataIndex:"procEndTime",key:"procEndTime",width:200},{title:"操作",dataIndex:"",key:"operations",fixed:"right",align:"center",width:80,render:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return M.a.createElement("a",{onClick:null==a||null===(e=a.onClick)||void 0===e?void 0:e.bind.apply(e,[o].concat(n))},"查看")}}],t=r||R.Table;return M.a.createElement("div",{className:"flow-list-main"},M.a.createElement(t,P()({columns:e,dataSource:[{name:"Jack",age:28,address:"some where",key:"1"},{name:"Rose",age:36,address:"some where",key:"2"}]},u)))}())}var i=n(9),L=n.n(i),U=(n(11),n(12),n(13),n(7));function u(a){var t=a.onTabChange,o=a.renderTabs,e=a.renderApprove,n=a.renderInfo,r=a.renderHeader,l=a.TabsComponent,c=a.onOkSuccess,i=a.onRejectSuccess,u=a.onTransferSuccess,s=a.data,d=a.tabs,f=void 0===d?[]:d,m=a.tabProps,p=void 0===m?{}:m,v=A()(a,["onTabChange","renderTabs","renderApprove","renderInfo","renderHeader","TabsComponent","onOkSuccess","onRejectSuccess","onTransferSuccess","data","tabs","tabProps"]),b=Object(q.useState)(!1),y=_()(b,2),w=y[0],h=y[1],E=Object(q.useState)(!1),k=_()(E,2),g=k[0],T=k[1],x=Object(q.useRef)();Object(q.useEffect)(function(){return document.onfullscreenchange=function(){h(null!==document.fullscreenElement)},function(){}},[]);function N(e){t&&t(e)}function C(){x.current.requestFullscreen()}function j(){document.exitFullscreen()}function F(){T(!0)}function O(){"function"==typeof c&&c()}function I(){"function"==typeof i&&i()}var S=Object(q.useRef)([{name:"审批信息",key:"approve_form",render:n},{name:"审批日志",key:"approve_records",render:function(e,t){return M.a.createElement(H,{data:t})}},{name:"流程图",key:"task_viewer",render:function(e,t){return M.a.createElement(V,{data:t})}}].concat(L()(f)));return M.a.createElement("div",{className:"flow-detail",ref:x},"function"==typeof r?r(a):M.a.createElement("div",{className:"flow-detail-header"},M.a.createElement("div",{className:"flow-detail-top"},M.a.createElement("div",{className:"flow-detail-title"},s.title),w?M.a.createElement(R.Button,{icon:M.a.createElement(U.FullscreenOutlined,null),onClick:j},"退出"):M.a.createElement(R.Button,{icon:M.a.createElement(U.FullscreenExitOutlined,null),onClick:C},"全屏")),M.a.createElement("div",{className:"flow-approve"},"function"==typeof e?e():M.a.createElement("div",{className:"flow-approve-detault"},M.a.createElement("div",{className:"flow-remark-label"},"备注说明："),M.a.createElement("div",{className:"flow-remark-field"},M.a.createElement(R.Input.TextArea,{placeholder:"请输入"})))),M.a.createElement(X,P()({data:s,onTransfer:F,onOk:O,onReject:I},v))),function(){var e,t,n;if("function"==typeof o)return o(a);var r=l||D;return M.a.createElement(r,P()({defaultActiveKey:null==S||null===(e=S.current[0])||void 0===e?void 0:e.key,onChange:N},p),null===(t=S.current)||void 0===t||null===(n=t.filter(function(e){return e.render}))||void 0===n?void 0:n.map(function(e){return M.a.createElement(B,{tab:e.name,key:e.key},e.render&&e.render(e,s))}))}(),M.a.createElement(z,{visible:g,onOk:function(){"function"==typeof u&&u()},onCancel:function(){T(!1)}}))}function H(){var e,t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:props).data;return Object(q.useEffect)(function(){return t&&console.log("flow record",t),function(){}},[t]),M.a.createElement("div",{className:"flow-record"},null==t||null===(e=t.historyTasks)||void 0===e?void 0:e.map(function(e,t){var n,r;return M.a.createElement("div",{key:t,className:"flow-record-item"},M.a.createElement("div",{className:"flow-record-item-label"},null===(n=e.createdTime)||void 0===n||null===(r=n.split(" "))||void 0===r?void 0:r.map(function(e,t){return M.a.createElement("div",{className:"flow-record-item-text",key:t},e)})),M.a.createElement("div",{className:"flow-record-item-mark"},M.a.createElement("div",{className:"flow-mark-circle"})),M.a.createElement("div",{className:"flow-record-item-content"},M.a.createElement("div",{className:"flow-item-content-title"},e.nodeName),M.a.createElement("div",{className:"flow-item-content-row"},M.a.createElement("div",{className:"flow-item-row-label"},"意见："),M.a.createElement("div",{className:"flow-item-row-val"},e.stateDesc)),M.a.createElement("div",{className:"flow-item-content-row"},M.a.createElement("div",{className:"flow-item-row-label"},"备注："),M.a.createElement("div",{className:"flow-item-row-val"},e.remark)),M.a.createElement("div",{className:"flow-item-content-row"},M.a.createElement("div",{className:"flow-item-row-label"},"附件："),M.a.createElement("div",{className:"flow-item-row-attachments"},e.attachments&&e.attachments.map(function(e,t){return"IMAGE"!==e.fileType?M.a.createElement("div",{key:t,className:"flow-attachments-link"},M.a.createElement("a",{href:e.fileUrl,target:"_blank"},e.fileName)):M.a.createElement("div",{key:t,className:"flow-attachments-image"},M.a.createElement("img",{src:e.fileUrl,alt:""}))})))))}))}var s=n(4),E=n.n(s),d=n(6),f=n.n(d),m=n(8),k=n.n(m);function g(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(){return(v=f()(E.a.mark(function e(t,n){var r,a,o,l,c,i,u,s,d,f,m,p,v,b,y,w,h;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=document.getElementById(t))&&n.flowXml){e.next=3;break}return e.abrupt("return");case 3:return r.innerHTML="",a=new k.a({container:"#".concat(t),height:"600px"}),o=n.flowXml||"",e.prev=6,e.next=9,a.importXML(o);case 9:c=e.sent,c.warnings,i=a.get("overlays"),(u=a.get("canvas")).zoom("fit-viewport"),null==n||null===(l=n.historyNodeId)||void 0===l||l.split(","),s=n.historyTasks,d=void 0===s?[]:s,f=n.runTimeTasks,m=void 0===f?[]:f,p=g(d);try{for(p.s();!(v=p.n()).done;)b=v.value,u.addMarker(b.nodeId,"endHighlight"),x.call(i,b.nodeId,T(d,b.nodeId))}catch(e){p.e(e)}finally{p.f()}y=g(m);try{for(y.s();!(w=y.n()).done;)h=w.value,u.addMarker(h.nodeId,"highlight"),x.call(i,h.nodeId,T(m,h.nodeId))}catch(e){y.e(e)}finally{y.f()}e.next=25;break;case 22:e.prev=22,e.t0=e.catch(6),console.log(e.t0.message,e.t0.warnings);case 25:case"end":return e.stop()}},e,null,[[6,22]])}))).apply(this,arguments)}function T(e,t){var n,r=[],a=g(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;o.nodeId===t&&r.push('<div class="note-card">\n        <p>执行人：'.concat((null==o?void 0:o.assigneeUserName)||"","</p>\n        <p>开始时间：").concat((null==o?void 0:o.createdTime)||"","</p>\n        <p>结束时间：").concat((null==o?void 0:o.endTime)||"","</p>\n        <p>意见：").concat((null==o?void 0:o.stateDesc)||"","</p>\n      </div>"))}}catch(e){a.e(e)}finally{a.f()}return'<div class="diagram-note">'.concat(r.join(""),"</div>")}function x(e,t){var n,r=this;b(e,"onmouseenter",function(){n=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'<div class="diagram-note">Mixed up the labels?</div>';return this.add(e,{position:{bottom:0,right:0},scale:!1,html:t})}.call(r,e,t)}),b(e,"onmouseleave",function(){r.remove(n),n=void 0})}function b(e,t,n){document.querySelector("[data-element-id=".concat(e,"]"))[t]=n}var V=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:props).data;return Object(q.useEffect)(function(){return e&&function(e,t){v.apply(this,arguments)}("flow_container",e),function(){}},[e]),M.a.createElement("div",{className:"flow-viewer"},M.a.createElement("div",{id:"flow_container"}))};function X(e){var t=e.onAgree,n=e.onReject,r=e.onTransfer,a=e.data,o=e.prefix,l=void 0===o?[]:o,c=e.addon,i=void 0===c?[]:c;return M.a.createElement("div",{className:"flow-action-buttons"},M.a.createElement(R.Row,{gutter:12},l.map(function(e,t){return M.a.createElement(R.Col,{key:t},e)}),M.a.createElement(R.Col,null,M.a.createElement(R.Button,{type:"primary",ghost:!0,onClick:r},"转办")),M.a.createElement(R.Col,null,M.a.createElement(R.Button,{type:"primary",ghost:!0,onClick:t,disabled:a.completeFlag||!1===a.approveFlag},"同意")),M.a.createElement(R.Col,null,M.a.createElement(R.Button,{danger:!0,onClick:n,disabled:a.completeFlag||!1===a.approveFlag},"驳回")),i.map(function(e,t){return M.a.createElement(R.Col,{key:t},e)})))}var y={labelCol:{span:4},wrapperCol:{span:18}};function z(e){var t=e.visible,n=e.onOk,r=e.onCancel,a=R.Form.useForm(),o=_()(a,1)[0],l=function(){var e=f()(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.validateFields();case 3:t=e.sent,"function"==typeof n&&n(t),console.log("Success:",t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Failed:",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}();return M.a.createElement(R.Modal,{title:"流程转办",visible:t,onOk:l,onCancel:r,cancelText:"取消",okText:"确定"},M.a.createElement(R.Form,P()({},y,{form:o,name:"basic",initialValues:{remember:!0}}),M.a.createElement(R.Form.Item,{label:"转办人",name:"targetUserId",rules:[{required:!0,message:"请选择转办人"}]},M.a.createElement(R.Select,{showSearch:!0,placeholder:"选择转办人",optionFilterProp:"children"},M.a.createElement(R.Select.Option,{value:"jack"},"Jack"),M.a.createElement(R.Select.Option,{value:"lucy"},"Lucy"),M.a.createElement(R.Select.Option,{value:"tom"},"Tom"))),M.a.createElement(R.Form.Item,{label:"转办理由",name:"reason",rules:[{required:!0,message:"请输入转办理由"}]},M.a.createElement(R.Input.TextArea,{rows:4,placeholder:"请输入转办理由"}))))}t.default={Alert:a,FlowTabs:D,TabPane:B,FlowList:c,FlowRecord:H,FlowViewer:V,FlowDetail:u,FlowActionButtons:X,FlowTransferModal:z}}],a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=14);function a(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}var n,r});
//# sourceMappingURL=june-ui.min.js.map