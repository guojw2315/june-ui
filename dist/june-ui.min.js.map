{"version":3,"sources":["webpack://june-ui/webpack/universalModuleDefinition","webpack://june-ui/webpack/bootstrap","webpack://june-ui/external \"react\"","webpack://june-ui/external \"@babel/runtime/helpers/slicedToArray\"","webpack://june-ui/external \"@babel/runtime/regenerator\"","webpack://june-ui/external \"antd/es/form\"","webpack://june-ui/external \"@babel/runtime/helpers/asyncToGenerator\"","webpack://june-ui/external \"@babel/runtime/helpers/objectWithoutProperties\"","webpack://june-ui/external \"antd/es/button\"","webpack://june-ui/external \"@babel/runtime/helpers/extends\"","webpack://june-ui/external \"antd/es/input\"","webpack://june-ui/external \"@ant-design/icons\"","webpack://june-ui/external \"antd/es/select\"","webpack://june-ui/external \"antd/es/col\"","webpack://june-ui/external \"antd/es/button/style/css\"","webpack://june-ui/external \"antd/es/input/style/css\"","webpack://june-ui/external \"antd/es/tabs\"","webpack://june-ui/external \"bpmn-js/lib/NavigatedViewer\"","webpack://june-ui/external \"antd/es/select/style/css\"","webpack://june-ui/external \"antd/es/form/style/css\"","webpack://june-ui/external \"antd/es/table\"","webpack://june-ui/external \"@babel/runtime/helpers/defineProperty\"","webpack://june-ui/external \"@babel/runtime/helpers/toConsumableArray\"","webpack://june-ui/external \"antd/es/row\"","webpack://june-ui/external \"antd/es/modal\"","webpack://june-ui/external \"antd/es/table/style/css\"","webpack://june-ui/external \"antd/es/tabs/style/css\"","webpack://june-ui/external \"antd/es/row/style/css\"","webpack://june-ui/external \"antd/es/col/style/css\"","webpack://june-ui/external \"antd/es/modal/style/css\"","webpack://june-ui/./src/components/alert/alert.jsx","webpack://june-ui/./src/components/alert/index.js","webpack://june-ui/./src/components/flow-tabs/index.jsx","webpack://june-ui/./src/components/api.js","webpack://june-ui/./src/components/flow-list/index.jsx","webpack://june-ui/./src/components/flow-detail/index.jsx","webpack://june-ui/./src/components/flow-record/index.jsx","webpack://june-ui/./src/components/flow-viewer/index.jsx","webpack://june-ui/./src/components/flow-action-buttons/index.jsx","webpack://june-ui/./src/components/flow-transfer-modal/index.jsx","webpack://june-ui/./src/components/flow-fullscreen/index.jsx","webpack://june-ui/./src/components/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","m","require","Alert","props","children","kink","rest","useEffect","console","log","TabPane","FlowTabs","api","dictList","parentKey","dictProcessList","userList","keyWord","FlowList","onTabChange","TableComponent","renderTabs","renderContent","TabsComponent","request","listApi","tabProps","_listApi","useRef","all","currentPage","pageSize","url","wait","accept","done","finishFlag","tabs","name","key","total","value","el","useForm","form","useState","current","active","setAcitve","setCurrentPage","setPageSize","setTotal","dataSource","setDataSource","options","setOptions","searchParams","setSearchParams","loading","setLoading","_fetchOptions","_fetchData","_onPageChange","page","_onSearch","values","_onTabChange","a","get","res","data","params","size","other","post","records","tab","find","d","className","ref","Tabs","defaultActiveKey","onChange","tabBarExtraContent","FlowFullScreen","map","_renderTabs","columns","title","dataIndex","width","fixed","align","render","args","onClick","bind","_Table","layout","onFinish","Item","label","placeholder","style","minWidth","i","Option","dataValue","suffix","shouldUpdate","noStyle","type","htmlType","ghost","rowKey","pagination","_renderContent","FlowDetail","renderApprove","renderInfo","renderHeader","onOkSuccess","onRejectSuccess","onTransferSuccess","setFullScreen","visible","setVisible","document","onfullscreenchange","fullscreenElement","_onTransfer","_onOk","_onReject","_tabs","tabItem","FlowRecord","TextArea","FlowActionButtons","onTransfer","onOk","onReject","filter","FlowTransferModal","onCancel","historyTasks","createdTime","split","timeStr","j","nodeName","stateDesc","remark","attachments","attachment","fileType","href","fileUrl","target","fileName","src","alt","id","jsCanvas","getElementById","flowXml","innerHTML","viewer","BpmnViewer","container","height","diagramXML","importXML","result","warnings","overlays","canvas","zoom","historyNodeId","runTimeTasks","item","addMarker","nodeId","bindOverlays","call","genarateHtml","message","tasks","content","push","assigneeUserName","endTime","join","html","overlayId","bindEvent","this","add","position","bottom","right","scale","remove","undefined","event","listener","querySelector","FlowViewer","loadFlowChar","onAgree","prefix","addon","gutter","btn","disabled","completeFlag","approveFlag","danger","labelCol","span","wrapperCol","targetUserList","validateFields","val","cancelText","okText","initialValues","remember","rules","required","showSearch","optionFilterProp","onSearch","rows","isFullScreen","setIsFullScreen","addEventListener","_listenScreenChange","removeEventListener","icon","exitFullscreen","requestFullscreen","c","getter","o","Object","defineProperty","enumerable","r","Symbol","toStringTag","t","mode","__esModule","ns","create","n","object","property","prototype","hasOwnProperty","p","s","moduleId","l","modules"],"mappings":"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","file":"june-ui.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"june-ui\"] = factory();\n\telse\n\t\troot[\"june-ui\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 32);\n","module.exports = require(\"react\");","module.exports = require(\"@babel/runtime/helpers/slicedToArray\");","module.exports = require(\"@babel/runtime/regenerator\");","module.exports = require(\"antd/es/form\");","module.exports = require(\"@babel/runtime/helpers/asyncToGenerator\");","module.exports = require(\"@babel/runtime/helpers/objectWithoutProperties\");","module.exports = require(\"antd/es/button\");","module.exports = require(\"@babel/runtime/helpers/extends\");","module.exports = require(\"antd/es/input\");","module.exports = require(\"@ant-design/icons\");","module.exports = require(\"antd/es/select\");","module.exports = require(\"antd/es/col\");","module.exports = require(\"antd/es/button/style/css\");","module.exports = require(\"antd/es/input/style/css\");","module.exports = require(\"antd/es/tabs\");","module.exports = require(\"bpmn-js/lib/NavigatedViewer\");","module.exports = require(\"antd/es/select/style/css\");","module.exports = require(\"antd/es/form/style/css\");","module.exports = require(\"antd/es/table\");","module.exports = require(\"@babel/runtime/helpers/defineProperty\");","module.exports = require(\"@babel/runtime/helpers/toConsumableArray\");","module.exports = require(\"antd/es/row\");","module.exports = require(\"antd/es/modal\");","module.exports = require(\"antd/es/table/style/css\");","module.exports = require(\"antd/es/tabs/style/css\");","module.exports = require(\"antd/es/row/style/css\");","module.exports = require(\"antd/es/col/style/css\");","module.exports = require(\"antd/es/modal/style/css\");","import React, { useEffect } from 'react';\n\nfunction Alert(props) {\n\n  const { children, kink = 'info', ...rest } = props;\n  useEffect(() => {\n    console.log('%cjune-ui Alert mounted!', 'font-size: 18px;')\n    return () => {\n      \n    }\n  }, [])\n\n  return <div {...rest}>\n    {props.children}\n  </div>\n}\n\nexport default Alert","import Alert from './alert';\n\nexport default Alert;","import React from \"react\";\n\nimport { Tabs } from 'antd';\n\nconst { TabPane } = Tabs\n\nexport { TabPane };\n\nexport default function FlowTabs({ children, ...rest }) {\n  return (\n    <Tabs {...rest}>\n      {children}\n    </Tabs>\n  );\n}\n","\nfunction genConfig (s) {\n  let arr = s.split(' ')\n  return {\n    method: arr[0],\n    url: arr[1]\n  }\n}\n\nlet api =  {\n  dictList: (parentKey) => `/caas/dict/listByCode/${parentKey}`,\n\n  dictProcessList: () => api.dictList('flowDefine'),\n\n  userList: (keyWord) => `/caas/user/list?keyWord=${keyWord}`,\n}\n\n\n\nexport default api","import React, { useEffect, useState, useRef } from \"react\";\nimport FlowTabs, { TabPane } from \"../flow-tabs\";\nimport { FlowFullScreen } from \"../index\";\n\nimport \"./style/index\";\n\nimport { Table, Row, Col, Form, Input, Select, Button } from \"antd\";\nimport { SearchOutlined } from \"@ant-design/icons\";\n\nimport api from \"../api\";\n\nexport default function FlowList(props) {\n  const {\n    onTabChange,\n    renderTabs,\n    renderContent,\n    TableComponent,\n    TabsComponent,\n    request,\n    listApi,\n    tabProps = {},\n    ...rest\n  } = props;\n\n  const _listApi = useRef({\n    all: (currentPage, pageSize) => ({\n      url: `/caas/osoBpmProcInst/completedProcPersonPage/${currentPage}/${pageSize}`,\n    }),\n    wait: (currentPage, pageSize) => ({\n      url: `/caas/osoBpmTask/waitTaskPage/${currentPage}/${pageSize}`,\n    }),\n    accept: (currentPage, pageSize) => ({\n      url: `/caas/osoBpmTask/completedTaskPage/${currentPage}/${pageSize}`,\n    }),\n    done: (currentPage, pageSize) => ({\n      url: `/caas/osoBpmProcInst/completedProcPersonPage/${currentPage}/${pageSize}`,\n      finishFlag: true,\n    }), // finishFlag: true\n  });\n\n  const tabs = useRef([\n    { name: \"全部\", key: \"all\", total: 0, value: 0},\n    { name: \"待审批\", key: \"wait\", total: 0 },\n    { name: \"已审批\", key: \"accept\", total: 0 },\n    { name: \"已完结\", key: \"done\", total: 0 },\n  ]);\n\n  const tabTotal = useRef({});\n\n  const el = useRef();\n  const [form] = Form.useForm();\n  const [active, setAcitve] = useState(tabs?.current[0]?.key);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [pageSize, setPageSize] = useState(10);\n  const [total, setTotal] = useState(0);\n  const [dataSource, setDataSource] = useState([]);\n  const [options, setOptions] = useState([]); // 流程分类选项\n  const [searchParams, setSearchParams] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [, setUpdate] = useState('')\n\n  useEffect(() => {\n     _fetchOptions();\n    return () => {};\n  }, []);\n\n  useEffect(() => {\n    _fetchData(active, searchParams, currentPage, pageSize);\n   \n  }, [active, searchParams, pageSize, currentPage]);\n\n  const _onTabChange = async (key) => {\n    setCurrentPage(1);\n    setAcitve(key)\n    if (typeof onTabChange === \"function\") onTabChange(key);\n  };\n\n  const _fetchOptions = async () => {\n    if (request) {\n      let res = await request.get(api.dictProcessList());\n      setOptions(res.data.data || [])\n      try {\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  };\n\n  const _fetchData = async (\n    key,\n    params = searchParams,\n    page = currentPage,\n    size = pageSize\n  ) => {\n    if (request) {\n      try {\n        setLoading(true);\n        const { url, ...other } = _listApi.current[key](page, size);\n        // console.log(other)\n        let res = await request.post(url, {\n          data: {...params, ...other},\n        });\n        const { records = [], total = 0 } = res.data.data;\n\n        let tab = tabs.current.find(d => d.key === key)\n\n        if (tab) {\n          tab.total = total\n        }\n\n        // 设置全部 未审批数量\n        if (key === 'wait') {\n          tabs.current[0].value = total\n        }\n\n        setDataSource(records);\n        setTotal(total);\n        setLoading(false);\n        // console.log(\"flow-list: \", res);\n      } catch (e) {\n        setLoading(false);\n        console.log(\"flow-list fetch failed;\", e);\n      }\n    }\n  };\n\n  const _onPageChange = (page, pageSize) => {\n    setCurrentPage(page);\n    setPageSize(pageSize);\n  };\n\n  const _onSearch = (values) => {\n    setSearchParams(values);\n    setCurrentPage(1);\n  };\n\n  const _renderTabs = () => {\n    if (typeof props.renderTabs === \"function\") return props.renderTabs(props);\n    const Tabs = TabsComponent || FlowTabs;\n    return (\n      <Tabs\n        defaultActiveKey={active}\n        onChange={_onTabChange}\n        tabBarExtraContent={<FlowFullScreen el={el} />}\n        {...tabProps}\n      >\n        {tabs.current?.map((d) => (\n          <TabPane tab={`${d.name}（${d.value ? d.value + '/' : ''}${d.total}）`} key={d.key}></TabPane>\n        ))}\n      </Tabs>\n    );\n  };\n\n  const _renderContent = () => {\n    if (typeof props.renderContent === \"function\")\n      return props.renderContent(props);\n    const columns = [\n      {\n        title: \"流程标题\",\n        dataIndex: \"title\",\n        key: \"title\",\n        width: 200,\n      },\n      {\n        title: \"状态\",\n        dataIndex: \"stateDesc\",\n        key: \"stateDesc\",\n        width: 100,\n      },\n      {\n        title: \"发起人\",\n        dataIndex: \"createdBy\",\n        key: \"createdBy\",\n        width: 100,\n      },\n      {\n        title: \"审批节点\",\n        dataIndex: \"currentNodeNames\",\n        key: \"currentNodeNames\",\n        width: 200,\n      },\n      {\n        title: \"审批人\",\n        dataIndex: \"auditorNames\",\n        key: \"auditorNames\",\n        width: 200,\n      },\n      {\n        title: \"流程发起时间\",\n        dataIndex: \"procCreateTime\",\n        key: \"procCreateTime\",\n        width: 200,\n      },\n\n      {\n        title: \"任务创建时间\",\n        dataIndex: \"currentFirstTaskCreatedTime\",\n        key: \"currentFirstTaskCreatedTime\",\n        width: 200,\n      },\n\n      {\n        title: \"结束日期\",\n        dataIndex: \"procEndTime\",\n        key: \"procEndTime\",\n        width: 200,\n      },\n\n      {\n        title: \"操作\",\n        dataIndex: \"\",\n        key: \"operations\",\n        fixed: \"right\",\n        align: \"center\",\n        width: 80,\n        // align: 'right',\n        render: (...args) => (\n          <a onClick={props?.onClick?.bind(this, ...args)}>查看</a>\n        ),\n      },\n    ];\n\n    const _Table = TableComponent || Table;\n\n    return (\n      <div className=\"flow-list-main\">\n        <div className=\"flow-search-bar\">\n          <Form\n            form={form}\n            name=\"horizontal_login\"\n            layout=\"inline\"\n            onFinish={_onSearch}\n          >\n            <Form.Item\n              label=\"流程分类\"\n              name=\"processDefKey\"\n              // rules={[{ required: true, message: \"Please input your username!\" }]}\n            >\n              <Select placeholder=\"请选择分类\" style={{ minWidth: 192 }}>\n                {options.map((d, i) => {\n                  return <Select.Option key={i} value={d.dataValue}>{d.name}</Select.Option>\n                })}\n              </Select>\n            </Form.Item>\n\n            <Form.Item\n              label=\"标题\"\n              name=\"title\"\n              // rules={[{ required: true, message: \"Please input your password!\" }]}\n            >\n              <Input suffix={<SearchOutlined />} placeholder=\"关键字搜索\" />\n            </Form.Item>\n\n            <Form.Item shouldUpdate={true} noStyle>\n              {() => (\n                <Button type=\"primary\" htmlType=\"submit\" ghost>\n                  搜索\n                </Button>\n              )}\n            </Form.Item>\n          </Form>\n        </div>\n        <_Table\n          rowKey=\"procInstId\"\n          loading={loading}\n          columns={columns}\n          dataSource={dataSource}\n          pagination={{\n            current: currentPage,\n            total,\n            pageSize,\n            onChange: _onPageChange,\n          }}\n          {...rest}\n        />\n      </div>\n    );\n  };\n  return (\n    <div className=\"flow-list\" ref={el}>\n      {_renderTabs()}\n      {_renderContent()}\n    </div>\n  );\n}\n","import React, { useEffect, useState, useRef, useCallback } from \"react\";\nimport {\n  FlowViewer,\n  FlowRecord,\n  FlowTabs,\n  TabPane,\n  FlowActionButtons,\n  FlowTransferModal,\n  FlowFullScreen,\n} from \"../index\";\nimport \"../flow-viewer/style\";\nimport \"../flow-record/style\";\nimport \"../flow-action-buttons/style\";\nimport { Button, Row, Col, Input, Modal, Select, Form } from \"antd\";\n\nimport { FullscreenOutlined, FullscreenExitOutlined } from \"@ant-design/icons\";\n\nexport default function FlowDetail(props) {\n  const {\n    onTabChange,\n    renderTabs,\n    renderApprove,\n    renderInfo,\n    renderHeader,\n    TabsComponent,\n    onOkSuccess,\n    onRejectSuccess,\n    onTransferSuccess,\n    data,\n    tabs = [],\n    tabProps = {},\n    ...rest\n  } = props;\n\n  const [fullScreen, setFullScreen] = useState(false);\n  const [visible, setVisible] = useState(false);\n  const el = useRef();\n\n  useEffect(() => {\n    document.onfullscreenchange = () => {\n      setFullScreen(document.fullscreenElement !== null);\n    };\n    return () => {};\n  }, []);\n\n  const _tabs = useRef([\n    {\n      name: \"审批信息\",\n      key: \"approve_form\",\n      render: renderInfo,\n    },\n    {\n      name: \"审批日志\",\n      key: \"approve_records\",\n      render: (tabItem, data) => <FlowRecord data={data} />,\n    },\n    {\n      name: \"流程图\",\n      key: \"task_viewer\",\n      render: (tabItem, data) => <FlowViewer data={data} />,\n    },\n    ...tabs,\n  ]);\n\n  const _onTabChange = (key) => {\n    onTabChange && onTabChange(key);\n  };\n\n  const _onFullScreen = () => {\n    el.current.requestFullscreen();\n  };\n\n  const _onExitFullScreen = () => {\n    document.exitFullscreen();\n  };\n\n  const _onTransfer = () => {\n    setVisible(true);\n  };\n\n  const _onOk = () => {\n    if (typeof onOkSuccess === \"function\") onOkSuccess();\n  };\n\n  const _onReject = () => {\n    if (typeof onRejectSuccess === \"function\") onRejectSuccess();\n  };\n\n  const _onTransferOk = () => {\n    if (typeof onTransferSuccess === \"function\") onTransferSuccess();\n  };\n\n  const _onTransferCancel = () => {\n    setVisible(false);\n  };\n\n  const _renderApprove = () => {\n    if (typeof renderApprove === \"function\") return renderApprove();\n    return (\n      <div className=\"flow-approve-detault\">\n        <div className=\"flow-remark-label\">备注说明：</div>\n        <div className=\"flow-remark-field\">\n          <Input.TextArea placeholder=\"请输入\" />\n        </div>\n      </div>\n    );\n  };\n\n  const _renderHeader = () => {\n    if (typeof renderHeader === \"function\") return renderHeader(props);\n    return (\n      <div className=\"flow-detail-header\">\n        <div className=\"flow-detail-top\">\n          <div className=\"flow-detail-title\">{data.title}</div>\n          <FlowFullScreen el={el}/>\n        </div>\n        <div className=\"flow-approve\">{_renderApprove()}</div>\n\n        <FlowActionButtons\n          data={data}\n          onTransfer={_onTransfer}\n          onOk={_onOk}\n          onReject={_onReject}\n          {...rest}\n        />\n      </div>\n    );\n  };\n\n  const _renderTabs = () => {\n    if (typeof renderTabs === \"function\") return renderTabs(props);\n    const Tabs = TabsComponent || FlowTabs;\n    return (\n      <Tabs\n        defaultActiveKey={_tabs?.current[0]?.key}\n        onChange={_onTabChange}\n        {...tabProps}\n      >\n        {_tabs.current?.filter(d => d.render)?.map((d) => (\n          <TabPane tab={d.name} key={d.key}>\n            {d.render && d.render(d, data)}\n          </TabPane>\n        ))}\n      </Tabs>\n    );\n  };\n\n  return (\n    <div className=\"flow-detail\" ref={el}>\n      {_renderHeader()}\n      {_renderTabs()}\n      <FlowTransferModal\n        visible={visible}\n        onOk={_onTransferOk}\n        onCancel={_onTransferCancel}\n      />\n    </div>\n  );\n}\n","import React, { useEffect } from \"react\";\n\nexport default function FlowRecord({ data } = props) {\n  useEffect(() => {\n    if (data) {\n      console.log(\"flow record\", data);\n    }\n    return () => {};\n  }, [data]);\n\n  return (\n    <div className=\"flow-record\">\n      {data?.historyTasks?.map((d, i) => (\n        <div key={i} className=\"flow-record-item\">\n          <div className=\"flow-record-item-label\">\n            {d.createdTime?.split(\" \")?.map((timeStr, j) => {\n              return (\n                <div className=\"flow-record-item-text\" key={j}>\n                  {timeStr}\n                </div>\n              );\n            })}\n          </div>\n          <div className=\"flow-record-item-mark\">\n            <div className=\"flow-mark-circle\"></div>\n          </div>\n          <div className=\"flow-record-item-content\">\n            <div className=\"flow-item-content-title\">{d.nodeName}</div>\n            <div className=\"flow-item-content-row\">\n              <div className=\"flow-item-row-label\">意见：</div>\n              <div className=\"flow-item-row-val\">{d.stateDesc}</div>\n            </div>\n            <div className=\"flow-item-content-row\">\n              <div className=\"flow-item-row-label\">备注：</div>\n              <div className=\"flow-item-row-val\">{d.remark}</div>\n            </div>\n            <div className=\"flow-item-content-row\">\n              <div className=\"flow-item-row-label\">附件：</div>\n              <div className=\"flow-item-row-attachments\">\n                {d.attachments &&\n                  d.attachments.map((attachment, j) => {\n                    switch (attachment.fileType) {\n                      case \"IMAGE\":\n                        return (\n                          <div key={j} className=\"flow-attachments-image\">\n                            <img\n                              src={attachment.fileUrl}\n                              // src={'https://dss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=2456468987,3284231714&fm=26&gp=0.jpg'}\n                              alt=\"\"\n                            />\n                          </div>\n                        );\n                      default:\n                        return (\n                          <div key={j} className=\"flow-attachments-link\">\n                            <a href={attachment.fileUrl} target=\"_blank\">\n                              {attachment.fileName}\n                            </a>\n                          </div>\n                        );\n                    }\n                  })}\n              </div>\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport BpmnViewer from \"bpmn-js/lib/NavigatedViewer\";\n\nasync function _loadBpmnDemo(id, dataForm) {\n  let container = document.getElementById(id);\n  if (!container) return;\n  container.innerHTML = \"\";\n  let viewer = new BpmnViewer({\n    container: `#${id}`,\n    height: \"500px\",\n  });\n  let diagramXML = dataForm.xml || \"\";\n\n  try {\n    const result = await viewer.importXML(diagramXML);\n    const { warnings } = result;\n\n    // access viewer components\n    let overlays = viewer.get(\"overlays\");\n    let canvas = viewer.get(\"canvas\");\n\n    // zoom to fit full viewport\n    canvas.zoom(\"fit-viewport\");\n\n    // attach an overlay to a node\n    overlays.add(\"SCAN_OK\", \"note\", {\n      position: {\n        bottom: 0,\n        right: 0,\n      },\n      html: '<div class=\"diagram-note\">Mixed up the labels?</div>',\n    });\n\n    // add marker\n    canvas.addMarker(\"SCAN_OK\", \"needs-discussion\");\n  } catch (err) {\n    console.log(err.message, err.warnings);\n  }\n}\n\nexport async function loadFlowChar(id, data) {\n  let jsCanvas = document.getElementById(id);\n  if (!jsCanvas || !data.flowXml) return;\n  jsCanvas.innerHTML = \"\";\n  let viewer = new BpmnViewer({\n    container: `#${id}`,\n    height: \"600px\",\n  });\n  let diagramXML = data.flowXml || \"\";\n\n  try {\n    const result = await viewer.importXML(diagramXML);\n    const { warnings } = result;\n    let overlays = viewer.get(\"overlays\");\n    let canvas = viewer.get(\"canvas\");\n\n    // zoom to fit full viewport\n    canvas.zoom(\"fit-viewport\");\n\n    let historyNodeList = data?.historyNodeId?.split(\",\") || [];\n\n    const { historyTasks = [], runTimeTasks = [] } = data;\n\n    // 历史任务 置灰\n    for (let item of historyTasks) {\n      canvas.addMarker(item.nodeId, \"endHighlight\");\n      bindOverlays.call(\n        overlays,\n        item.nodeId,\n        genarateHtml(historyTasks, item.nodeId)\n      );\n    }\n\n    //当前节点 高亮\n    for (let item of runTimeTasks) {\n      canvas.addMarker(item.nodeId, \"highlight\");\n      bindOverlays.call(\n        overlays,\n        item.nodeId,\n        genarateHtml(runTimeTasks, item.nodeId)\n      );\n    }\n\n    // 驳回节点 标红\n    // let rejectNodeList = data?.rejectNodeId\n    //   ? data?.rejectNodeId.split(\",\")\n    //   : [];\n\n    // for (let i = 0; i < rejectNodeList.length; i++) {\n    //   canvas.addMarker(rejectNodeList[i], \"errorHighlight\");\n    // }\n  } catch (err) {\n    console.log(err.message, err.warnings);\n  }\n}\n\nfunction genarateHtml(tasks, id) {\n  let content = [];\n  for (let d of tasks) {\n    if (d.nodeId === id) {\n      content.push(`<div class=\"note-card\">\n        <p>执行人：${d?.assigneeUserName || \"\"}</p>\n        <p>开始时间：${d?.createdTime || \"\"}</p>\n        <p>结束时间：${d?.endTime || \"\"}</p>\n        <p>意见：${d?.stateDesc || \"\"}</p>\n      </div>`);\n    }\n  }\n  return `<div class=\"diagram-note\">${content.join(\"\")}</div>`;\n}\n\nfunction addOverlays(\n  id,\n  html = `<div class=\"diagram-note\">Mixed up the labels?</div>`\n) {\n  return this.add(id, {\n    position: {\n      bottom: 0,\n      right: 0,\n    },\n    scale: false,\n    html: html,\n  });\n}\n\n// this -> overlays （节省一个参数）\nfunction bindOverlays(id, html) {\n  let overlayId; // 闭包引用 - 鼠标离开时使用\n  bindEvent(id, \"onmouseenter\", () => {\n    overlayId = addOverlays.call(this, id, html);\n  });\n  bindEvent(id, \"onmouseleave\", () => {\n    this.remove(overlayId);\n    overlayId = undefined;\n  });\n}\n\nfunction bindEvent(id, event, listener) {\n  let elmt = document.querySelector(`[data-element-id=${id}]`);\n  elmt[event] = listener;\n}\n\nfunction FlowViewer({ data } = props) {\n  useEffect(() => {\n    // loadBpmnDemo('flow_container', { xml: xmlDemo });\n    // console.log(data)\n    if (data) {\n      loadFlowChar(\"flow_container\", data);\n    }\n\n    return () => {};\n  }, [data]);\n\n  return (\n    <div className=\"flow-viewer\">\n      <div id=\"flow_container\"></div>\n    </div>\n  );\n}\n\nexport default FlowViewer","import React, { useEffect } from \"react\";\nimport { Button, Row, Col } from \"antd\";\n\nexport default function FlowActionButtons(props) {\n  const { onAgree, onReject, onTransfer, data, prefix = [], addon = []} = props;\n  return (\n    <div className=\"flow-action-buttons\">\n      <Row gutter={12}>\n        {prefix.map((btn, i) => {\n          return <Col key={i}>{btn}</Col>\n        })}\n        <Col>\n          <Button type=\"primary\" ghost onClick={onTransfer}>\n            转办\n          </Button>\n        </Col>\n        <Col>\n          <Button type=\"primary\" ghost onClick={onAgree} disabled={data.completeFlag || data.approveFlag === false}>\n            同意\n          </Button>\n        </Col>\n        <Col>\n          <Button danger onClick={onReject} disabled={data.completeFlag || data.approveFlag === false}>驳回</Button>\n        </Col>\n        {addon.map((btn, i) => {\n          return <Col key={i}>{btn}</Col>\n        })}\n      </Row>\n    </div>\n  );\n}\n","import React, { useEffect, useState, useRef, useCallback } from \"react\";\n\nimport { Button, Input, Modal, Select, Form } from \"antd\";\nimport api from '../api';\n\nconst layout = {\n  labelCol: { span: 4 },\n  wrapperCol: { span: 18 },\n};\n\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\n\nexport default function FlowTransferModal(props) {\n  const { visible, request, onOk, onCancel } = props;\n\n  const [form] = Form.useForm();\n  const [targetUserList, setTargetUserList] = useState([])\n\n  useEffect(() => {\n    if (visible) {\n    }\n    return () => {\n    }\n  }, [visible])\n\n  const _onOk = async () => {\n    try {\n      const values = await form.validateFields();\n      if (typeof onOk === 'function') onOk(values)\n      console.log('Success:', values);\n    } catch (errorInfo) {\n      console.log('Failed:', errorInfo);\n    }\n  }\n\n  const _onSearch = async (val) => {\n    try {\n      if (request) {\n        let res = await request.get(api.userList(val))\n        console.log(res)\n      }\n    } catch (errorInfo) {\n      console.log('Failed:', errorInfo);\n    }\n  }\n\n  return (\n    <Modal\n      title=\"流程转办\"\n      visible={visible}\n      onOk={_onOk}\n      onCancel={onCancel}\n      cancelText=\"取消\"\n      okText=\"确定\"\n    >\n      <Form\n        {...layout}\n        form={form} \n        name=\"basic\"\n        initialValues={{ remember: true }}\n        // onFinish={onFinish}\n        // onFinishFailed={onFinishFailed}\n      >\n        <Form.Item\n          label=\"转办人\"\n          name=\"targetUserId\"\n          rules={[{ required: true, message: \"请选择转办人\" }]}\n        >\n          <Select\n            showSearch\n            // style={{ width: 1 }}\n            placeholder=\"选择转办人\"\n            optionFilterProp=\"children\"\n            // onChange={onChange}\n            // onFocus={onFocus}\n            // onBlur={onBlur}\n            onSearch={_onSearch}\n          >\n            {\n              targetUserList.map((d, i) => <Select.Option key={i} value=\"jack\">Jack</Select.Option>)\n            }\n            {/* <Select.Option value=\"jack\">Jack</Select.Option>\n            <Select.Option value=\"lucy\">Lucy</Select.Option>\n            <Select.Option value=\"tom\">Tom</Select.Option> */}\n          </Select>\n        </Form.Item>\n\n        <Form.Item\n          label=\"转办理由\"\n          name=\"reason\"\n          rules={[{ required: true, message: \"请输入转办理由\" }]}\n        >\n          <Input.TextArea rows={4} placeholder=\"请输入转办理由\"></Input.TextArea>\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n}\n","import React, { useEffect, useState, useRef, useCallback } from \"react\";\nimport { Button } from \"antd\";\n\nimport { FullscreenOutlined, FullscreenExitOutlined } from \"@ant-design/icons\";\n\nexport default function FlowFullScreen(props) {\n  const { el } = props;\n\n  const [isFullScreen, setIsFullScreen] = useState(false);\n\n  useEffect(() => {\n    document.addEventListener('fullscreenchange', _listenScreenChange.bind(this))\n    return () => {\n      document.removeEventListener('fullscreenchange', _listenScreenChange.bind(this))\n    };\n  }, []);\n\n  const _listenScreenChange = () =>{\n    console.log('change')\n    setIsFullScreen(document.fullscreenElement !== null);\n  }\n\n  const _onFullScreen = () => {\n    el.current.requestFullscreen();\n  };\n\n  const _onExitFullScreen = () => {\n    document.exitFullscreen();\n  };\n\n  return isFullScreen ? (\n    <Button icon={<FullscreenExitOutlined />} onClick={_onExitFullScreen}>\n      退出\n    </Button>\n  ) : (\n    <Button icon={<FullscreenOutlined />} onClick={_onFullScreen}>\n      全屏\n    </Button>\n  );\n}\n","import Alert from \"./alert\";\nimport FlowList from \"./flow-list\";\nimport FlowDetail from \"./flow-detail\";\nimport FlowRecord from \"./flow-record\";\nimport FlowViewer from \"./flow-viewer\";\nimport FlowTabs, { TabPane } from \"./flow-tabs\";\nimport FlowActionButtons from \"./flow-action-buttons\";\nimport FlowTransferModal from \"./flow-transfer-modal\";\nimport FlowFullScreen from \"./flow-fullscreen\";\n\nexport {\n  Alert,\n  FlowTabs,\n  TabPane,\n  FlowList,\n  FlowRecord,\n  FlowViewer,\n  FlowDetail,\n  FlowActionButtons,\n  FlowTransferModal,\n  FlowFullScreen,\n};\nexport default {\n  Alert,\n  FlowTabs,\n  TabPane,\n  FlowList,\n  FlowRecord,\n  FlowViewer,\n  FlowDetail,\n  FlowActionButtons,\n  FlowTransferModal,\n  FlowFullScreen,\n};\n"],"sourceRoot":""}