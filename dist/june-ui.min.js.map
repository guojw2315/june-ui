{"version":3,"sources":["webpack://june-ui/webpack/universalModuleDefinition","webpack://june-ui/webpack/bootstrap","webpack://june-ui/external \"react\"","webpack://june-ui/external \"@babel/runtime/regenerator\"","webpack://june-ui/external \"@babel/runtime/helpers/slicedToArray\"","webpack://june-ui/external \"@babel/runtime/helpers/asyncToGenerator\"","webpack://june-ui/external \"antd/es/form\"","webpack://june-ui/external \"@babel/runtime/helpers/objectWithoutProperties\"","webpack://june-ui/external \"antd/es/select\"","webpack://june-ui/external \"@babel/runtime/helpers/extends\"","webpack://june-ui/external \"antd/es/button\"","webpack://june-ui/external \"@babel/runtime/helpers/defineProperty\"","webpack://june-ui/external \"@babel/runtime/helpers/toConsumableArray\"","webpack://june-ui/external \"antd/es/input\"","webpack://june-ui/external \"@ant-design/icons\"","webpack://june-ui/external \"antd/es/col\"","webpack://june-ui/external \"antd/es/form/style/css\"","webpack://june-ui/external \"lodash.debounce\"","webpack://june-ui/external \"antd/es/message\"","webpack://june-ui/external \"antd/es/modal\"","webpack://june-ui/external \"antd/es/button/style/css\"","webpack://june-ui/external \"antd/es/input/style/css\"","webpack://june-ui/external \"antd/es/select/style/css\"","webpack://june-ui/external \"antd/es/tabs\"","webpack://june-ui/external \"bpmn-js/lib/NavigatedViewer\"","webpack://june-ui/external \"antd/es/message/style/css\"","webpack://june-ui/external \"antd/es/modal/style/css\"","webpack://june-ui/external \"antd/es/table\"","webpack://june-ui/external \"antd/es/spin\"","webpack://june-ui/external \"antd/es/row\"","webpack://june-ui/external \"antd/es/table/style/css\"","webpack://june-ui/external \"antd/es/tabs/style/css\"","webpack://june-ui/external \"antd/es/spin/style/css\"","webpack://june-ui/external \"antd/es/row/style/css\"","webpack://june-ui/external \"antd/es/col/style/css\"","webpack://june-ui/./src/components/alert/alert.jsx","webpack://june-ui/./src/components/alert/index.js","webpack://june-ui/./src/components/common-table/index.jsx","webpack://june-ui/./src/components/flow-tabs/index.jsx","webpack://june-ui/./src/components/flow-list-section/flow-search.jsx","webpack://june-ui/./src/components/api.js","webpack://june-ui/./src/components/flow-list/index.jsx","webpack://june-ui/./src/components/flow-list-own/index.jsx","webpack://june-ui/./src/components/flow-detail/index.jsx","webpack://june-ui/./src/components/flow-record/index.jsx","webpack://june-ui/./src/components/flow-viewer/index.jsx","webpack://june-ui/./src/components/flow-action-buttons/index.jsx","webpack://june-ui/./src/components/flow-transfer-modal/index.jsx","webpack://june-ui/./src/components/flow-fullscreen/index.jsx","webpack://june-ui/./src/components/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","m","require","Alert","props","children","kink","rest","useEffect","console","log","CommonTable","api","request","afterFetchData","queryParams","useState","loading","setLoading","currentPage","setCurrentPage","pageSize","setPageSize","dataSource","setDataSource","total","setTotal","_fetchData","_onPageChange","page","a","params","size","_debRequest","_debounce","url","other","_url","_other","method","data","res","records","tableProps","pagination","current","onChange","onShowSizeChange","render","TabPane","FlowTabs","FlowSearch","labelKey","valueKey","onSearch","options","className","name","layout","onFinish","values","Item","label","allowClear","placeholder","style","minWidth","map","d","i","Option","key","value","dataValue","suffix","shouldUpdate","noStyle","type","htmlType","ghost","dictList","parentKey","dictProcessList","dictProcessOwnKeys","userList","keyWord","taskTransfer","FlowList","onTabChange","TabsComponent","renderTabs","renderContent","TableComponent","onLinkClick","listApi","tabProps","_listApi","useRef","all","wait","accept","done","finishFlag","tabs","el","useForm","active","setAcitve","setOptions","searchParams","setSearchParams","setRowKey","setUpdate","_fetchOptions","_afterFetchData","tab","find","test","Date","getTime","_onSearch","_onTabChange","ref","Tabs","defaultActiveKey","tabBarExtraContent","FlowFullScreen","_renderTabs","renderSearch","columns","col","title","dataIndex","width","fixed","align","args","onClick","bind","rowKey","_renderContent","FlowDetail","renderApprove","renderInfo","renderHeader","onOkSuccess","onRejectSuccess","onTransferSuccess","id","visible","setVisible","detailData","setDetailData","remark","setRemark","tasks","setTasks","useModal","modal","contextHolder","_onTransfer","_modalConfig","content","okText","cancelText","_onRemarkChange","changedValues","approveRemark","form","_detailApi","getDetail","procInstId","postApprove","_tabs","tabItem","FlowRecord","_task","runTimeTasks","filter","item","approveFlag","length","setFieldsValue","taskId","_onOk","validateFields","confirm","onOk","Promise","resolve","reject","_postApprove","_onReject","status","msg","success","resetFields","spinning","hideNodeSelect","labelCol","span","wrapperCol","onValuesChange","display","rules","required","message","disabled","nodeName","userNames","TextArea","_renderApprove","FlowActionButtons","onTransfer","onAgree","onReject","canApprove","FlowTransferModal","onCancel","onModelFormChange","reason","historyTasks","createdTime","split","timeStr","j","stateDesc","attachments","attachment","fileType","href","fileUrl","target","fileName","src","alt","jsCanvas","document","getElementById","flowXml","innerHTML","viewer","BpmnViewer","container","height","diagramXML","importXML","result","warnings","overlays","get","canvas","zoom","historyNodeId","state","addMarker","nodeId","bindOverlays","call","genarateHtml","push","assigneeUserName","endTime","join","html","overlayId","bindEvent","this","add","position","bottom","right","scale","remove","undefined","event","listener","querySelector","FlowViewer","loadFlowChar","prefix","addon","gutter","btn","completeFlag","danger","targetUserList","setTargetUserList","taskIds","val","confirmLoading","initialValues","remember","showSearch","optionFilterProp","login","mode","rows","isFullScreen","setIsFullScreen","addEventListener","_listenScreenChange","removeEventListener","fullscreenElement","icon","exitFullscreen","requestFullscreen","FlowListOwn","c","getter","o","Object","defineProperty","enumerable","r","Symbol","toStringTag","t","__esModule","ns","create","n","object","property","prototype","hasOwnProperty","p","s","moduleId","l","modules"],"mappings":"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","file":"june-ui.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"june-ui\"] = factory();\n\telse\n\t\troot[\"june-ui\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 39);\n","module.exports = require(\"react\");","module.exports = require(\"@babel/runtime/regenerator\");","module.exports = require(\"@babel/runtime/helpers/slicedToArray\");","module.exports = require(\"@babel/runtime/helpers/asyncToGenerator\");","module.exports = require(\"antd/es/form\");","module.exports = require(\"@babel/runtime/helpers/objectWithoutProperties\");","module.exports = require(\"antd/es/select\");","module.exports = require(\"@babel/runtime/helpers/extends\");","module.exports = require(\"antd/es/button\");","module.exports = require(\"@babel/runtime/helpers/defineProperty\");","module.exports = require(\"@babel/runtime/helpers/toConsumableArray\");","module.exports = require(\"antd/es/input\");","module.exports = require(\"@ant-design/icons\");","module.exports = require(\"antd/es/col\");","module.exports = require(\"antd/es/form/style/css\");","module.exports = require(\"lodash.debounce\");","module.exports = require(\"antd/es/message\");","module.exports = require(\"antd/es/modal\");","module.exports = require(\"antd/es/button/style/css\");","module.exports = require(\"antd/es/input/style/css\");","module.exports = require(\"antd/es/select/style/css\");","module.exports = require(\"antd/es/tabs\");","module.exports = require(\"bpmn-js/lib/NavigatedViewer\");","module.exports = require(\"antd/es/message/style/css\");","module.exports = require(\"antd/es/modal/style/css\");","module.exports = require(\"antd/es/table\");","module.exports = require(\"antd/es/spin\");","module.exports = require(\"antd/es/row\");","module.exports = require(\"antd/es/table/style/css\");","module.exports = require(\"antd/es/tabs/style/css\");","module.exports = require(\"antd/es/spin/style/css\");","module.exports = require(\"antd/es/row/style/css\");","module.exports = require(\"antd/es/col/style/css\");","import React, { useEffect } from 'react';\n\nfunction Alert(props) {\n\n  const { children, kink = 'info', ...rest } = props;\n  useEffect(() => {\n    console.log('%cjune-ui Alert mounted!', 'font-size: 18px;')\n    return () => {\n      \n    }\n  }, [])\n\n  return <div {...rest}>\n    {props.children}\n  </div>\n}\n\nexport default Alert","import Alert from './alert';\n\nexport default Alert;","import React, { useEffect, useState, useRef } from \"react\";\n\nimport { Table } from \"antd\";\nimport _debounce from \"lodash.debounce\";\nexport default function CommonTable(props) {\n  const { api, request, afterFetchData, queryParams = {}, ...rest } = props;\n\n  const [loading, setLoading] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [pageSize, setPageSize] = useState(10);\n  const [dataSource, setDataSource] = useState([]);\n  const [total, setTotal] = useState(0);\n\n  // useEffect(() => {\n  //   _fetchData();\n  //   return () => {};\n  // }, []);\n  \n  useEffect(() => {\n    if (currentPage > 1) {\n      setCurrentPage(1);\n    }\n  }, [queryParams]);\n\n  useEffect(() => {\n    _fetchData(queryParams, currentPage, pageSize);\n    return () => {};\n  }, [queryParams, currentPage, pageSize]);\n\n  const _fetchData = async (\n    params = queryParams,\n    page = currentPage,\n    size = pageSize\n  ) => {\n    if (request) {\n      setLoading(true);\n      await _debRequest(params, page, size);\n    }\n  };\n\n  const _debRequest = _debounce(async (params, page, size) => {\n    try {\n      let _url;\n      let _other;\n      // console.log('api:', api)\n      if (typeof api === \"function\") {\n        let { url, ...other } = api({ page, size });\n        _url = url;\n        _other = other;\n      } else {\n        _url = api;\n      }\n      // return console.log(_url)\n      let res = await request({\n        method: \"POST\",\n        url: _url,\n        data: { ...queryParams, ..._other },\n      });\n\n      const { records = [], total = 0 } = res?.data?.data || {};\n      setDataSource(records);\n      setTotal(total);\n      setLoading(false);\n      afterFetchData && afterFetchData(res?.data?.data);\n    } catch (e) {\n      setLoading(false);\n      console.log(\"flow-list fetch failed;\", e);\n    }\n  }, 300);\n\n  const _onPageChange = (page, pageSize) => {\n    setCurrentPage(page);\n    setPageSize(pageSize);\n  };\n\n  // console.log(dataSource, rest.rowKey)\n\n  const tableProps = {\n    loading,\n    dataSource,\n    pagination: {\n      current: currentPage,\n      total,\n      pageSize,\n      onChange: _onPageChange,\n      onShowSizeChange: _onPageChange,\n    }\n  }\n\n  return props.render ? props.render({...tableProps}) : (\n    <Table\n      {...tableProps}\n      {...rest}\n    />\n  );\n}\n","import React from \"react\";\n\nimport { Tabs } from 'antd';\n\nconst { TabPane } = Tabs\n\nexport { TabPane };\n\nexport default function FlowTabs({ children, ...rest }) {\n  return (\n    <Tabs {...rest}>\n      {children}\n    </Tabs>\n  );\n}\n","import React, { useEffect, useState, useRef } from \"react\";\nimport { Table, Row, Col, Form, Input, Select, Button } from \"antd\";\nimport { SearchOutlined } from \"@ant-design/icons\";\nexport default function FlowSearch(props) {\n  const { labelKey, valueKey, onSearch, options = [] } = props;\n  const _onSearch = (values) => {\n    onSearch && onSearch(values);\n  };\n  return (\n    <div className=\"flow-search-bar\">\n      <Form name=\"horizontal_login\" layout=\"inline\" onFinish={_onSearch}>\n        <Form.Item\n          label=\"流程分类\"\n          name=\"processDefKey\"\n          // rules={[{ required: true, message: \"Please input your username!\" }]}\n        >\n          <Select allowClear placeholder=\"请选择分类\" style={{ minWidth: 192 }}>\n            {options.map((d, i) => {\n              return (\n                <Select.Option key={i} value={d[valueKey] || d.dataValue}>\n                  {d[labelKey] || d.name}\n                </Select.Option>\n              );\n            })}\n          </Select>\n        </Form.Item>\n\n        <Form.Item\n          label=\"标题\"\n          name=\"title\"\n          // rules={[{ required: true, message: \"Please input your password!\" }]}\n        >\n          <Input suffix={<SearchOutlined />} placeholder=\"关键字搜索\" />\n        </Form.Item>\n\n        <Form.Item shouldUpdate={true} noStyle>\n          {() => (\n            <Button type=\"primary\" htmlType=\"submit\" ghost>\n              搜索\n            </Button>\n          )}\n        </Form.Item>\n      </Form>\n    </div>\n  );\n}\n","\nfunction genConfig (s) {\n  let arr = s.split(' ')\n  return {\n    method: arr[0],\n    url: arr[1]\n  }\n}\n\nlet api =  {\n  dictList: (parentKey) => `/caas/dict/listByCode/${parentKey}`, \n\n  dictProcessList: () => api.dictList('flowDefine'), // 流程分类 枚举\n\n  dictProcessOwnKeys: () => `/caas/osoBpmProcInst/listInterestKeys`, // 流程分类 枚举\n\n  userList: (keyWord) => `/caas/user/list?keyWord=${keyWord}`,\n\n  taskTransfer: () => `/caas/osoBpmTask/transferTask`,\n}\n\n\n\nexport default api","import React, { useEffect, useState, useRef } from \"react\";\nimport FlowTabs, { TabPane } from \"../flow-tabs\";\nimport FlowSearch from \"../flow-list-section/flow-search\";\nimport { FlowFullScreen } from \"../index\";\nimport { CommonTable } from \"../index\";\n\nimport \"./style/index\";\nimport \"../flow-list-section/style\";\n\nimport { Table, Row, Col, Form, Input, Select, Button } from \"antd\";\n\n\nimport api from \"../api\";\n\nexport default function FlowList(props) {\n  const {\n    onTabChange,\n    renderTabs,\n    renderContent,\n    TableComponent,\n    TabsComponent,\n    request,\n    listApi,\n    onLinkClick,\n    data,\n    tabProps = {},\n    ...rest\n  } = props;\n\n  const _listApi = useRef({\n    all: (currentPage, pageSize) => ({\n      url: `/caas/osoBpmProcInst/completedProcPersonPage/${currentPage}/${pageSize}`,\n    }),\n    wait: (currentPage, pageSize) => ({\n      url: `/caas/osoBpmTask/waitTaskPage/${currentPage}/${pageSize}`,\n    }),\n    accept: (currentPage, pageSize) => ({\n      url: `/caas/osoBpmTask/completedTaskPage/${currentPage}/${pageSize}`,\n    }),\n    done: (currentPage, pageSize) => ({\n      url: `/caas/osoBpmProcInst/completedProcPersonPage/${currentPage}/${pageSize}`,\n      finishFlag: true,\n    }), // finishFlag: true\n  });\n\n  const tabs = useRef([\n    // { name: \"全部\", key: \"all\", total: 0, value: 0 },\n    { name: \"待审批\", key: \"wait\", total: 0 },\n    { name: \"已审批\", key: \"accept\", total: 0 },\n    // { name: \"已完结\", key: \"done\", total: 0 },\n  ]);\n\n  const el = useRef();\n  const [form] = Form.useForm();\n  const [active, setAcitve] = useState(tabs?.current[0]?.key);\n  const [options, setOptions] = useState([]); // 流程分类选项\n  const [searchParams, setSearchParams] = useState({});\n  const [rowKey, setRowKey] = useState(\"procInstId\");\n  const [, setUpdate] = useState(\"\");\n\n  useEffect(() => {\n    _fetchOptions();\n    return () => {};\n  }, []);\n\n  const _onTabChange = async (key) => {\n    setAcitve(key);\n    setSearchParams({ ...searchParams });\n    if (typeof onTabChange === \"function\") onTabChange(key);\n  };\n\n  const _fetchOptions = async () => {\n    if (request) {\n      try {\n        let res = await request({ method: \"GET\", url: api.dictProcessList() });\n        setOptions(res.data.data || []);\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  };\n\n  const _afterFetchData = ({ total, records } = {}) => {\n    let tab = tabs.current.find((d) => d.key === active);\n\n    if (tab) {\n      tab.total = total;\n    }\n\n    // 设置全部 未审批数量\n    if (active === \"wait\") {\n      tabs.current[0].value = total;\n    }\n\n    setRowKey(/^wait$|^accept$/g.test(active) ? \"taskId\" : \"procInstId\");\n    setUpdate(new Date().getTime());\n  };\n\n  const _onSearch = (values) => {\n    setSearchParams(values);\n  };\n\n  const _renderTabs = () => {\n    if (typeof props.renderTabs === \"function\") return props.renderTabs(props);\n    const Tabs = TabsComponent || FlowTabs;\n    return (\n      <Tabs\n        defaultActiveKey={active}\n        onChange={_onTabChange}\n        tabBarExtraContent={<FlowFullScreen el={el} />}\n        {...tabProps}\n      >\n        {tabs.current?.map((d) => (\n          <TabPane\n            tab={`${d.name}（${d.value ? d.value + \"/\" : \"\"}${d.total}）`}\n            key={d.key}\n          ></TabPane>\n        ))}\n      </Tabs>\n    );\n  };\n\n  const _renderSearch = () => {\n    if (typeof props.renderSearch === \"function\")\n      return props.renderSearch(props);\n    return <FlowSearch onSearch={_onSearch} options={options} />;\n  };\n\n  const _renderContent = () => {\n    if (typeof props.renderContent === \"function\")\n      return props.renderContent(props);\n\n    // const column1 = [\n    //   {\n    //     title: \"状态\",\n    //     dataIndex: \"stateDesc\",\n    //     key: \"stateDesc\",\n    //     width: 100,\n    //   },\n    //   {\n    //     title: \"发起人\",\n    //     dataIndex: \"createdBy\",\n    //     key: \"createdBy\",\n    //     width: 100,\n    //   },\n    //   {\n    //     title: \"审批节点\",\n    //     dataIndex: \"currentNodeNames\",\n    //     key: \"currentNodeNames\",\n    //     width: 200,\n    //   },\n    //   {\n    //     title: \"审批人\",\n    //     dataIndex: \"auditorNames\",\n    //     key: \"auditorNames\",\n    //     width: 200,\n    //   },\n    //   {\n    //     title: \"流程发起时间\",\n    //     dataIndex: \"procCreateTime\",\n    //     key: \"procCreateTime\",\n    //     width: 200,\n    //   },\n\n    //   {\n    //     title: \"任务创建时间\",\n    //     dataIndex: \"currentFirstTaskCreatedTime\",\n    //     key: \"currentFirstTaskCreatedTime\",\n    //     width: 200,\n    //   },\n\n    //   {\n    //     title: \"结束日期\",\n    //     dataIndex: \"procEndTime\",\n    //     key: \"procEndTime\",\n    //     width: 200,\n    //   },\n    // ];\n\n    const column2 = [\n      {\n        title: \"审批节点\",\n        dataIndex: \"taskName\",\n        key: \"taskName\",\n        width: 180,\n      },,\n      {\n        title: \"审批人\",\n        dataIndex: \"auditorUserNames\",\n        key: \"auditorUserNames\",\n        width: 110,\n      },\n      {\n        title: \"流程创建日期\",\n        dataIndex: \"procCreateTime\",\n        key: \"procCreateTime\",\n        width: 200,\n      },\n      {\n        title: \"任务创建日期\",\n        dataIndex: \"taskCreateTime\",\n        key: \"taskCreateTime\",\n        width: 200,\n      },\n    ];\n\n    const column3 = [\n      {\n        title: \"状态\",\n        dataIndex: \"stateDesc\",\n        key: \"stateDesc\",\n        width: 100,\n      },\n      {\n        title: \"审批节点\",\n        dataIndex: \"taskName\",\n        key: \"taskName\",\n        width: 180,\n      },\n      {\n        title: \"审批人\",\n        dataIndex: \"auditorNames\",\n        key: \"auditorNames\",\n        width: 110,\n      },\n      {\n        title: \"流程创建日期\",\n        dataIndex: \"procCreateTime\",\n        key: \"procCreateTime\",\n        width: 200,\n      },\n      {\n        title: \"任务创建日期\",\n        dataIndex: \"taskCreateTime\",\n        key: \"taskCreateTime\",\n        width: 200,\n      },\n      {\n        title: \"流程结束日期\",\n        dataIndex: \"procEndDate\",\n        key: \"procEndDate\",\n        width: 200,\n      },\n    ];\n\n    const columns = (col = []) => [\n      {\n        title: \"流程标题\",\n        dataIndex: \"title\",\n        key: \"title\",\n        width: 200,\n      },\n      {\n        title: \"创建人\",\n        dataIndex: \"createdByName\",\n        key: \"createdByName\",\n        width: 110,\n      },\n      \n      ...col,\n      {\n        title: \"操作\",\n        dataIndex: \"\",\n        key: \"operations\",\n        fixed: \"right\",\n        align: \"center\",\n        width: 80,\n        // align: 'right',\n        render: (...args) => (\n          <a onClick={onLinkClick?.bind(this, ...args)}>查看</a>\n        ),\n      },\n    ];\n\n    return (\n      <div className=\"flow-list-main\">\n        {/* {active === \"all\" || active === \"done\" ? (\n          <CommonTable\n            rowKey=\"procInstId\"\n            columns={columns(column1)}\n            request={request}\n            queryParams={searchParams}\n            api={({ page, size } = {}) => _listApi.current[active](page, size)}\n            afterFetchData={_afterFetchData}\n          />\n        ) : null} */}\n\n        {active === \"wait\" ? (\n          <CommonTable\n            rowKey=\"taskId\"\n            columns={columns(column2)}\n            request={request}\n            queryParams={searchParams}\n            api={({ page, size } = {}) => _listApi.current[active](page, size)}\n            afterFetchData={_afterFetchData}\n          />\n        ) : null}\n\n          {active === \"accept\" ? (\n          <CommonTable\n            rowKey=\"taskId\"\n            columns={columns(column3)}\n            request={request}\n            queryParams={searchParams}\n            api={({ page, size } = {}) => _listApi.current[active](page, size)}\n            afterFetchData={_afterFetchData}\n          />\n        ) : null}\n      </div>\n    );\n  };\n  return (\n    <div className=\"flow-list\" ref={el}>\n      {_renderTabs()}\n      {_renderSearch()}\n      {_renderContent()}\n    </div>\n  );\n}\n","import React, { useEffect, useState, useRef } from \"react\";\nimport FlowTabs, { TabPane } from \"../flow-tabs\";\nimport FlowSearch from \"../flow-list-section/flow-search\";\nimport { CommonTable, FlowFullScreen } from \"../index\";\n\nimport \"../flow-list/style/index\";\nimport \"../flow-list-section/style\";\n\nimport { Table, Row, Col, Form, Input, Select, Button } from \"antd\";\n\nimport api from \"../api\";\n\nexport default function FlowList(props) {\n  const {\n    onTabChange,\n    renderTabs,\n    renderContent,\n    TableComponent,\n    TabsComponent,\n    request,\n    listApi,\n    onLinkClick,\n    data,\n    tabProps = {},\n    ...rest\n  } = props;\n\n  const el = useRef();\n  const [options, setOptions] = useState([]); // 流程分类选项\n  const [searchParams, setSearchParams] = useState({});\n\n  const _api = (currentPage, pageSize) => ({\n    url: `/caas/osoBpmProcInst/getInterestProcInstPage/${currentPage}/${pageSize}`,\n  });\n\n  useEffect(() => {\n    _fetchOptions();\n    return () => {};\n  }, []);\n\n  const _fetchOptions = async () => {\n    if (request) {\n      try {\n        let res = await request({\n          method: \"POST\",\n          url: api.dictProcessOwnKeys(),\n        });\n        setOptions(res.data.data || []);\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  };\n\n  const _onSearch = (values) => {\n    setSearchParams(values);\n  };\n\n  const _renderSearch = () => {\n    if (typeof props.renderSearch === \"function\")\n      return props.renderSearch(props);\n    return (\n      <FlowSearch\n        onSearch={_onSearch}\n        options={options}\n        labelKey=\"prodDefDesc\"\n        valueKey=\"prodDefKey\"\n      />\n    );\n  };\n\n  const _renderContent = () => {\n    if (typeof props.renderContent === \"function\")\n      return props.renderContent(props);\n\n    const column1 = [\n      {\n        title: \"状态\",\n        dataIndex: \"stateDesc\",\n        key: \"stateDesc\",\n        width: 100,\n      },\n      {\n        title: \"发起人\",\n        dataIndex: \"createdByName\",\n        key: \"createdByName\",\n        width: 100,\n      },\n      {\n        title: \"审批节点\",\n        dataIndex: \"currentNodeNames\",\n        key: \"currentNodeNames\",\n        width: 200,\n      },\n      {\n        title: \"审批人\",\n        dataIndex: \"auditorNames\",\n        key: \"auditorNames\",\n        width: 200,\n      },\n      {\n        title: \"流程发起时间\",\n        dataIndex: \"procCreateTime\",\n        key: \"procCreateTime\",\n        width: 200,\n      },\n\n      {\n        title: \"任务创建时间\",\n        dataIndex: \"currentFirstTaskCreatedTime\",\n        key: \"currentFirstTaskCreatedTime\",\n        width: 200,\n      },\n\n      {\n        title: \"结束日期\",\n        dataIndex: \"procEndTime\",\n        key: \"procEndTime\",\n        width: 200,\n      },\n    ];\n\n    const columns = (col = []) => [\n      {\n        title: \"流程标题\",\n        dataIndex: \"title\",\n        key: \"title\",\n        width: 200,\n      },\n      ...col,\n      {\n        title: \"操作\",\n        dataIndex: \"\",\n        key: \"operations\",\n        fixed: \"right\",\n        align: \"center\",\n        width: 80,\n        // align: 'right',\n        render: (...args) => (\n          <a onClick={onLinkClick?.bind(this, ...args)}>查看</a>\n        ),\n      },\n    ];\n\n    return (\n      <div className=\"flow-list-main\">\n        <CommonTable\n          rowKey=\"procInstId\"\n          columns={columns(column1)}\n          request={request}\n          queryParams={searchParams}\n          api={({ page, size } = {}) => _api(page, size)}\n        />\n      </div>\n    );\n  };\n  return (\n    <div className=\"flow-list\" ref={el}>\n      {_renderSearch()}\n      {_renderContent()}\n    </div>\n  );\n}\n","import React, { useEffect, useState, useRef, useCallback } from \"react\";\nimport {\n  FlowViewer,\n  FlowRecord,\n  FlowTabs,\n  TabPane,\n  FlowActionButtons,\n  FlowTransferModal,\n  FlowFullScreen,\n} from \"../index\";\nimport \"../flow-viewer/style\";\nimport \"../flow-record/style\";\nimport \"../flow-action-buttons/style\";\nimport {\n  Button,\n  Row,\n  Col,\n  Input,\n  Modal,\n  Select,\n  Form,\n  message,\n  Spin,\n} from \"antd\";\nimport api from \"../api\";\nimport \"./style/index\";\n\nimport { FullscreenOutlined, FullscreenExitOutlined } from \"@ant-design/icons\";\n\nexport default function FlowDetail(props) {\n  const {\n    onTabChange,\n    renderTabs,\n    renderApprove,\n    renderInfo,\n    renderHeader,\n    TabsComponent,\n    onOkSuccess,\n    onRejectSuccess,\n    onTransferSuccess,\n    data,\n    id,\n    request,\n    tabs = [],\n    tabProps = {},\n    ...rest\n  } = props;\n\n  const [fullScreen, setFullScreen] = useState(false);\n  const [visible, setVisible] = useState(false);\n  const [detailData, setDetailData] = useState({});\n  const [remark, setRemark] = useState(\"\");\n  const [tasks, setTasks] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const el = useRef();\n  const [modal, contextHolder] = Modal.useModal();\n\n  useEffect(() => {\n    if (id && !data) {\n      _fetchData(id);\n    }\n    return () => {};\n  }, [id]);\n\n  useEffect(() => {\n    if (data) {\n      setDetailData(data);\n    }\n    return () => {};\n  }, [data]);\n\n  const [form] = Form.useForm();\n\n  const _detailApi = useRef({\n    getDetail: (procInstId) => ({\n      url: `/caas/osoBpmProcInst/getFlowDetailByProcInstId/${procInstId}`,\n    }),\n\n    postApprove: () => ({\n      url: `/caas/osoBpmTask/approve`,\n    }),\n  });\n\n  const _tabs = useRef([\n    {\n      name: \"审批信息\",\n      key: \"approve_form\",\n      render: renderInfo,\n    },\n    {\n      name: \"审批日志\",\n      key: \"approve_records\",\n      render: (tabItem, data) => <FlowRecord data={data} />,\n    },\n    {\n      name: \"流程图\",\n      key: \"task_viewer\",\n      render: (tabItem, data) => <FlowViewer data={data} />,\n    },\n    ...tabs,\n  ]);\n\n  const _fetchData = async (id) => {\n    if (request) {\n      try {\n        setLoading(true);\n        const { url } = _detailApi.current.getDetail(id);\n        let res = await request({ method: \"GET\", url });\n        let d = res?.data?.data;\n        setDetailData(d);\n        // console.log(d?.runTimeTasks?.filter((item) => item.approveFlag))\n        let _task = d?.runTimeTasks?.filter((item) => item.approveFlag) || []\n        if (_task.length === 1) {\n          form.setFieldsValue({ taskId: _task[0].taskId });\n        }\n        setTasks(_task);\n      } catch (e) {\n        console.log(e);\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n\n  const _onTabChange = (key) => {\n    onTabChange && onTabChange(key);\n  };\n\n  const _onFullScreen = () => {\n    el.current.requestFullscreen();\n  };\n\n  const _onExitFullScreen = () => {\n    document.exitFullscreen();\n  };\n\n  const _onTransfer = () => {\n    setVisible(true);\n  };\n\n  const _modalConfig = () => ({\n    title: \"确认!\",\n    content: \"同意该流程?\",\n    okText: \"确定\",\n    cancelText: \"取消\",\n  });\n\n  const _onOk = async () => {\n    // console.log(\"onOk\");\n    try {\n      const values = await form.validateFields();\n      console.log(values)\n      modal.confirm({\n        ..._modalConfig(),\n        content: \"同意该流程?\",\n        onOk: () => {\n          return new Promise(async (resolve, reject) => {\n            try {\n              await _postApprove(\"AGREE\", values);\n              if (typeof onOkSuccess === \"function\") onOkSuccess();\n              resolve()\n            } catch (e) {\n              reject(e);\n            }\n          });\n        },\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const _onReject = async () => {\n    try {\n      const values = await form.validateFields();\n      modal.confirm({\n        ..._modalConfig(),\n        content: \"驳回该流程?\",\n        onOk: () => {\n          return new Promise(async (resolve, reject) => {\n            try {\n              await _postApprove(\"REJECT\", values);\n              if (typeof onRejectSuccess === \"function\") onRejectSuccess();\n              resolve();\n            } catch (e) {\n              reject(e);\n            }\n          });\n        },\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const _postApprove = async (status, values) => {\n    try {\n      const { url } = _detailApi.current.postApprove();\n      let res = await request({\n        method: \"POST\",\n        url,\n        data: {\n          status,\n          ...values,\n        },\n      });\n      let msg = res?.data?.data;``\n      message.success(msg);\n      form.resetFields();\n      setRemark(\"\");\n      _fetchData(id);\n      return Promise.resolve()\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  const _onTransferOk = () => {\n    _fetchData(id);\n    setVisible(false);\n    form.setFieldsValue({ approveRemark: \"\" });\n    if (typeof onTransferSuccess === \"function\") onTransferSuccess();\n  };\n\n  const _onTransferCancel = () => {\n    setVisible(false);\n  };\n\n  const _onRemarkChange = (changedValues, allValues) => {\n    setRemark(changedValues.approveRemark);\n  };\n\n  const _onModelFormChange = (changedValues) => {\n    form.setFieldsValue({ approveRemark: changedValues.reason });\n  };\n\n  const _renderApprove = () => {\n    if (typeof renderApprove === \"function\") return renderApprove();\n    const hideNodeSelect =  tasks.length <= 1;\n    return (\n      <div className=\"flow-approve-detault\">\n        <Form\n          {...{\n            labelCol: { span: 2 },\n            wrapperCol: { span: 22 },\n          }}\n          form={form}\n          style={{ width: \"100%\" }}\n          name=\"flow-detail-default\"\n          onValuesChange={_onRemarkChange}\n        >\n          <Form.Item\n            style={{display: hideNodeSelect ? 'none' : ''}}\n            label=\"流程节点\"\n            name=\"taskId\"\n            rules={[{ required: !hideNodeSelect, message: \"请选择流程节点\" }]}\n          >\n            <Select\n              // mode=\"multiple\"\n              disabled={hideNodeSelect}\n              placeholder=\"选择流程节点\"\n              // onChange={onChange}\n            >\n              {tasks?.map((d, i) => (\n                <Select.Option key={i} value={d.taskId}>\n                  {`${d.nodeName} - ${d.userNames}`}\n                </Select.Option>\n              ))}\n            </Select>\n          </Form.Item>\n          <Form.Item\n            label=\"备注说明：\"\n            name=\"approveRemark\"\n            rules={[{ required: true, message: \"请输入备注说明!\" }]}\n          >\n            <Input.TextArea placeholder=\"请输入备注说明\" />\n          </Form.Item>\n        </Form>\n      </div>\n    );\n  };\n\n  const _renderHeader = () => {\n    if (typeof renderHeader === \"function\") return renderHeader(props);\n    return (\n      <div className=\"flow-detail-header\">\n        <div className=\"flow-detail-top\">\n          <div className=\"flow-detail-title\">\n            {detailData && detailData.title}\n          </div>\n          <FlowFullScreen el={el} />\n        </div>\n        <div className=\"flow-approve\">{_renderApprove()}</div>\n\n        <FlowActionButtons\n          data={detailData}\n          onTransfer={_onTransfer}\n          onAgree={_onOk}\n          onReject={_onReject}\n          canApprove={tasks.length}\n          {...rest}\n        />\n      </div>\n    );\n  };\n\n  const _renderTabs = () => {\n    if (typeof renderTabs === \"function\") return renderTabs(props);\n    const Tabs = TabsComponent || FlowTabs;\n    return (\n      <Tabs\n        defaultActiveKey={_tabs?.current[0]?.key}\n        onChange={_onTabChange}\n        {...tabProps}\n      >\n        {_tabs.current\n          ?.filter((d) => d.render)\n          ?.map((d) => (\n            <TabPane tab={d.name} key={d.key}>\n              {d.render && d.render(d, detailData)}\n            </TabPane>\n          ))}\n      </Tabs>\n    );\n  };\n\n  return (\n    <div className=\"flow-detail\" ref={el}>\n      <Spin spinning={loading}>\n        {detailData.approveFlag === false ? null : _renderHeader()}\n        {/* {_renderHeader()} */}\n        {_renderTabs()}\n        <FlowTransferModal\n          visible={visible}\n          remark={remark}\n          setRemark={setRemark}\n          runTimeTasks={detailData?.runTimeTasks || []}\n          onOk={_onTransferOk}\n          request={request}\n          onCancel={_onTransferCancel}\n          onModelFormChange={_onModelFormChange}\n        />\n        {contextHolder}\n      </Spin>\n    </div>\n  );\n}\n","import React, { useEffect } from \"react\";\n\nexport default function FlowRecord({ data = {}} = props) {\n  useEffect(() => {\n    if (data) {\n      // console.log(\"flow record\", data);\n    }\n    return () => {};\n  }, [data]);\n\n  return (\n    <div className=\"flow-record\">\n      {data?.historyTasks?.map((d, i) => (\n        <div key={i} className=\"flow-record-item\">\n          <div className=\"flow-record-item-label\">\n            {d.createdTime?.split(\" \")?.map((timeStr, j) => {\n              return (\n                <div className=\"flow-record-item-text\" key={j}>\n                  {timeStr}\n                </div>\n              );\n            })}\n          </div>\n          <div className=\"flow-record-item-mark\">\n            <div className=\"flow-mark-circle\"></div>\n          </div>\n          <div className=\"flow-record-item-content\">\n            <div className=\"flow-item-content-title\">{d.nodeName}</div>\n            <div className=\"flow-item-content-row\">\n              <div className=\"flow-item-row-label\">意见：</div>\n              <div className=\"flow-item-row-val\">{d.stateDesc}</div>\n            </div>\n            <div className=\"flow-item-content-row\">\n              <div className=\"flow-item-row-label\">备注：</div>\n              <div className=\"flow-item-row-val\">{d.remark}</div>\n            </div>\n            <div className=\"flow-item-content-row\">\n              <div className=\"flow-item-row-label\">附件：</div>\n              <div className=\"flow-item-row-attachments\">\n                {d.attachments &&\n                  d.attachments.map((attachment, j) => {\n                    switch (attachment.fileType) {\n                      case \"IMAGE\":\n                        return (\n                          <div key={j} className=\"flow-attachments-image\">\n                            <img\n                              src={attachment.fileUrl}\n                              // src={'https://dss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=2456468987,3284231714&fm=26&gp=0.jpg'}\n                              alt=\"\"\n                            />\n                          </div>\n                        );\n                      default:\n                        return (\n                          <div key={j} className=\"flow-attachments-link\">\n                            <a href={attachment.fileUrl} target=\"_blank\">\n                              {attachment.fileName}\n                            </a>\n                          </div>\n                        );\n                    }\n                  })}\n              </div>\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport BpmnViewer from \"bpmn-js/lib/NavigatedViewer\";\n\nasync function _loadBpmnDemo(id, dataForm) {\n  let container = document.getElementById(id);\n  if (!container) return;\n  container.innerHTML = \"\";\n  let viewer = new BpmnViewer({\n    container: `#${id}`,\n    height: \"500px\",\n  });\n  let diagramXML = dataForm.xml || \"\";\n\n  try {\n    const result = await viewer.importXML(diagramXML);\n    const { warnings } = result;\n\n    // access viewer components\n    let overlays = viewer.get(\"overlays\");\n    let canvas = viewer.get(\"canvas\");\n\n    // zoom to fit full viewport\n    canvas.zoom(\"fit-viewport\");\n\n    // attach an overlay to a node\n    overlays.add(\"SCAN_OK\", \"note\", {\n      position: {\n        bottom: 0,\n        right: 0,\n      },\n      html: '<div class=\"diagram-note\">Mixed up the labels?</div>',\n    });\n\n    // add marker\n    canvas.addMarker(\"SCAN_OK\", \"needs-discussion\");\n  } catch (err) {\n    console.log(err.message, err.warnings);\n  }\n}\n\nexport async function loadFlowChar(id, data) {\n  let jsCanvas = document.getElementById(id);\n  if (!jsCanvas || !data.flowXml) return;\n  jsCanvas.innerHTML = \"\";\n  let viewer = new BpmnViewer({\n    container: `#${id}`,\n    height: \"600px\",\n  });\n  let diagramXML = data.flowXml || \"\";\n\n  try {\n    const result = await viewer.importXML(diagramXML);\n    const { warnings } = result;\n    let overlays = viewer.get(\"overlays\");\n    let canvas = viewer.get(\"canvas\");\n\n    // zoom to fit full viewport\n    canvas.zoom(\"fit-viewport\");\n\n    let historyNodeList = data?.historyNodeId?.split(\",\") || [];\n\n    const { historyTasks = [], runTimeTasks = [] } = data;\n\n    // 历史任务 置灰\n    for (let item of historyTasks) {\n      if (item.state === 'reject') {\n        canvas.addMarker(item.nodeId, \"errorHighlight\");\n      } else {\n        canvas.addMarker(item.nodeId, \"endHighlight\");\n      }\n      bindOverlays.call(\n        overlays,\n        item.nodeId,\n        genarateHtml(historyTasks, item.nodeId)\n      );\n    }\n\n    //当前节点 高亮\n    for (let item of runTimeTasks) {\n      canvas.addMarker(item.nodeId, \"highlight\");\n      bindOverlays.call(\n        overlays,\n        item.nodeId,\n        genarateHtml(runTimeTasks, item.nodeId)\n      );\n    }\n\n    // 驳回节点 标红\n    // let rejectNodeList = data?.rejectNodeId\n    //   ? data?.rejectNodeId.split(\",\")\n    //   : [];\n\n    // for (let i = 0; i < rejectNodeList.length; i++) {\n    //   canvas.addMarker(rejectNodeList[i], \"errorHighlight\");\n    // }\n  } catch (err) {\n    console.log(err.message, err.warnings);\n  }\n}\n\nfunction genarateHtml(tasks, id) {\n  let content = [];\n  for (let d of tasks) {\n    if (d.nodeId === id) {\n      content.push(`<div class=\"note-card\">\n        <p>执行人：${d?.assigneeUserName || d?.userNames || \"\"}</p>\n        <p>开始时间：${d?.createdTime || \"\"}</p>\n        ${d?.endTime ? `<p>结束时间：${d?.endTime}</p>` : ``}\n        ${d?.stateDesc ? `<p>意见：${d?.stateDesc}</p>` : ``}\n      </div>`);\n    }\n  }\n  return `<div class=\"diagram-note\">${content.join(\"\")}</div>`;\n}\n\nfunction addOverlays(\n  id,\n  html = `<div class=\"diagram-note\">Mixed up the labels?</div>`\n) {\n  return this.add(id, {\n    position: {\n      bottom: 0,\n      right: 0,\n    },\n    scale: false,\n    html: html,\n  });\n}\n\n// this -> overlays （节省一个参数）\nfunction bindOverlays(id, html) {\n  let overlayId; // 闭包引用 - 鼠标离开时使用\n  bindEvent(id, \"onmouseenter\", () => {\n    overlayId = addOverlays.call(this, id, html);\n  });\n  bindEvent(id, \"onmouseleave\", () => {\n    this.remove(overlayId);\n    overlayId = undefined;\n  });\n}\n\nfunction bindEvent(id, event, listener) {\n  let elmt = document.querySelector(`[data-element-id=${id}]`);\n  elmt[event] = listener;\n}\n\nfunction FlowViewer({ data } = props) {\n  useEffect(() => {\n    // loadBpmnDemo('flow_container', { xml: xmlDemo });\n    // console.log(data)\n    if (data) {\n      loadFlowChar(\"flow_container\", data);\n    }\n\n    return () => {};\n  }, [data]);\n\n  return (\n    <div className=\"flow-viewer\">\n      <div id=\"flow_container\"></div>\n    </div>\n  );\n}\n\nexport default FlowViewer","import React, { useEffect } from \"react\";\nimport { Button, Row, Col } from \"antd\";\n\nexport default function FlowActionButtons(props) {\n  const {\n    onAgree,\n    onReject,\n    onTransfer,\n    canApprove,\n    data = {},\n    prefix = [],\n    addon = [],\n  } = props;\n  return (\n    <div className=\"flow-action-buttons\">\n      <Row gutter={12}>\n        {prefix.map((btn, i) => {\n          return <Col key={i}>{btn}</Col>;\n        })}\n        <Col>\n          <Button\n            type=\"primary\"\n            ghost\n            onClick={onTransfer}\n            disabled={!canApprove}\n          >\n            转办\n          </Button>\n        </Col>\n        <Col>\n          <Button\n            type=\"primary\"\n            ghost\n            onClick={onAgree}\n            disabled={\n              !canApprove || data.completeFlag || data.approveFlag === false\n            }\n          >\n            同意\n          </Button>\n        </Col>\n        <Col>\n          <Button\n            danger\n            onClick={onReject}\n            disabled={\n              !canApprove || data.completeFlag || data.approveFlag === false\n            }\n          >\n            驳回\n          </Button>\n        </Col>\n        {addon.map((btn, i) => {\n          return <Col key={i}>{btn}</Col>;\n        })}\n      </Row>\n    </div>\n  );\n}\n","import React, { useEffect, useState, useRef, useCallback } from \"react\";\n\nimport { Button, Input, Modal, Select, Form, message, Spin } from \"antd\";\nimport _debounce from \"lodash.debounce\";\nimport api from \"../api\";\n\nconst layout = {\n  labelCol: { span: 4 },\n  wrapperCol: { span: 18 },\n};\n\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\n\nexport default function FlowTransferModal(props) {\n  const {\n    visible,\n    remark,\n    setRemark,\n    request,\n    onOk,\n    onCancel,\n    onModelFormChange,\n    runTimeTasks = [],\n  } = props;\n\n  const [form] = Form.useForm();\n  const [targetUserList, setTargetUserList] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (visible) {\n    }\n    return () => {};\n  }, [visible]);\n\n  useEffect(() => {\n    form.setFieldsValue({ reason: remark });\n    return () => {};\n  }, [remark]);\n\n  useEffect(() => {\n    if (runTimeTasks.length) {\n      // console.log(remark)\n      form.setFieldsValue({ taskIds: [runTimeTasks[0]?.taskId] });\n    }\n    return () => {};\n  }, [runTimeTasks]);\n\n  const _onOk = async () => {\n    if (request) {\n      try {\n        setLoading(true);\n        const values = await form.validateFields();\n        const res = await request({\n          method: \"POST\",\n          url: api.taskTransfer(),\n          data: { ...values },\n        });\n        console.log(\"values:\", values);\n        form.resetFields();\n        message.success(res.data.data);\n        if (typeof onOk === \"function\") onOk(values);\n        // console.log(\"Success:\", values);\n      } catch (errorInfo) {\n        console.log(\"Failed:\", errorInfo);\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n\n  const _onSearch = _debounce(async (val) => {\n    try {\n      if (request) {\n        let res = await request({ method: \"GET\", url: api.userList(val) });\n        let data = res?.data?.data;\n        // console.log(data);\n        setTargetUserList(data);\n      }\n    } catch (errorInfo) {\n      console.log(\"Failed:\", errorInfo);\n    }\n  }, 300);\n\n  const _onChange = (changedValues, allValues) => {\n    // setRemark && setRemark(changedValues.reason);\n    onModelFormChange && onModelFormChange(changedValues);\n  };\n\n  return (\n    <Modal\n      title=\"流程转办\"\n      visible={visible}\n      onOk={_onOk}\n      onCancel={onCancel}\n      cancelText=\"取消\"\n      okText=\"确定\"\n      confirmLoading={loading}\n    >\n      {/* <Spin spinning={true}> */}\n        <Form\n          {...layout}\n          form={form}\n          name=\"basic\"\n          initialValues={{ remember: true }}\n          onValuesChange={_onChange}\n          // onFinish={onFinish}\n          // onFinishFailed={onFinishFailed}\n        >\n          <Form.Item\n            label=\"转办人\"\n            name=\"targetUserId\"\n            rules={[{ required: true, message: \"请选择转办人\" }]}\n          >\n            <Select\n              showSearch\n              placeholder=\"选择转办人\"\n              optionFilterProp=\"children\"\n              // onChange={onChange}\n              onSearch={_onSearch}\n            >\n              {targetUserList.map((d, i) => (\n                <Select.Option key={i} value={d.id}>\n                  {`${d.name} - ${d.login}`}\n                </Select.Option>\n              ))}\n            </Select>\n          </Form.Item>\n\n          <Form.Item\n            label=\"流程节点\"\n            name=\"taskIds\"\n            rules={[{ required: true, message: \"请选择流程节点\" }]}\n          >\n            <Select\n              mode=\"multiple\"\n              placeholder=\"选择流程节点\"\n              // onChange={onChange}\n            >\n              {runTimeTasks.map((d, i) => (\n                <Select.Option key={i} value={d.taskId}>\n                  {`${d.nodeName} - ${d.userNames}`}\n                </Select.Option>\n              ))}\n            </Select>\n          </Form.Item>\n\n          <Form.Item\n            label=\"转办理由\"\n            name=\"reason\"\n            rules={[{ required: true, message: \"请输入转办理由\" }]}\n          >\n            <Input.TextArea\n              rows={4}\n              placeholder=\"请输入转办理由\"\n            ></Input.TextArea>\n          </Form.Item>\n        </Form>\n      {/* </Spin> */}\n    </Modal>\n  );\n}\n","import React, { useEffect, useState, useRef, useCallback } from \"react\";\nimport { Button } from \"antd\";\n\nimport { FullscreenOutlined, FullscreenExitOutlined } from \"@ant-design/icons\";\n\nexport default function FlowFullScreen(props) {\n  const { el } = props;\n\n  const [isFullScreen, setIsFullScreen] = useState(false);\n\n  useEffect(() => {\n    document.addEventListener('fullscreenchange', _listenScreenChange.bind(this))\n    return () => {\n      document.removeEventListener('fullscreenchange', _listenScreenChange.bind(this))\n    };\n  }, []);\n\n  const _listenScreenChange = () =>{\n    console.log('change')\n    setIsFullScreen(document.fullscreenElement !== null);\n  }\n\n  const _onFullScreen = () => {\n    el.current.requestFullscreen();\n  };\n\n  const _onExitFullScreen = () => {\n    document.exitFullscreen();\n  };\n\n  return isFullScreen ? (\n    <Button icon={<FullscreenExitOutlined />} onClick={_onExitFullScreen}>\n      退出\n    </Button>\n  ) : (\n    <Button icon={<FullscreenOutlined />} onClick={_onFullScreen}>\n      全屏\n    </Button>\n  );\n}\n","import Alert from \"./alert\";\nimport CommonTable from './common-table';\nimport FlowList from \"./flow-list\";\nimport FlowListOwn from \"./flow-list-own\";\nimport FlowDetail from \"./flow-detail\";\nimport FlowRecord from \"./flow-record\";\nimport FlowViewer from \"./flow-viewer\";\nimport FlowTabs, { TabPane } from \"./flow-tabs\";\nimport FlowActionButtons from \"./flow-action-buttons\";\nimport FlowTransferModal from \"./flow-transfer-modal\";\nimport FlowFullScreen from \"./flow-fullscreen\";\n\nexport {\n  Alert,\n  CommonTable,\n  FlowTabs,\n  TabPane,\n  FlowList,\n  FlowListOwn,\n  FlowRecord,\n  FlowViewer,\n  FlowDetail,\n  FlowActionButtons,\n  FlowTransferModal,\n  FlowFullScreen,\n};\n\nexport default {\n  Alert,\n  CommonTable,\n  FlowTabs,\n  TabPane,\n  FlowList,\n  FlowListOwn,\n  FlowRecord,\n  FlowViewer,\n  FlowDetail,\n  FlowActionButtons,\n  FlowTransferModal,\n  FlowFullScreen,\n};\n"],"sourceRoot":""}