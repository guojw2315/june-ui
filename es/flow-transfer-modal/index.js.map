{"version":3,"sources":["../../src/components/flow-transfer-modal/index.jsx"],"names":["React","useEffect","useState","useRef","useCallback","api","layout","labelCol","span","wrapperCol","tailLayout","offset","FlowTransferModal","props","visible","request","onOk","onCancel","useForm","form","targetUserList","setTargetUserList","_onOk","validateFields","values","console","log","_onSearch","val","get","userList","res","remember","required","message","map","d","i"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef, useCallback } from \"react\";\n\nimport { Button, Input, Modal, Select, Form } from \"antd\";\nimport api from '../api';\n\nconst layout = {\n  labelCol: { span: 4 },\n  wrapperCol: { span: 18 },\n};\n\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\n\nexport default function FlowTransferModal(props) {\n  const { visible, request, onOk, onCancel } = props;\n\n  const [form] = Form.useForm();\n  const [targetUserList, setTargetUserList] = useState([])\n\n  useEffect(() => {\n    if (visible) {\n    }\n    return () => {\n    }\n  }, [visible])\n\n  const _onOk = async () => {\n    try {\n      const values = await form.validateFields();\n      if (typeof onOk === 'function') onOk(values)\n      console.log('Success:', values);\n    } catch (errorInfo) {\n      console.log('Failed:', errorInfo);\n    }\n  }\n\n  const _onSearch = async (val) => {\n    try {\n      if (request) {\n        let res = await request.get(api.userList(val))\n        console.log(res)\n      }\n    } catch (errorInfo) {\n      console.log('Failed:', errorInfo);\n    }\n  }\n\n  return (\n    <Modal\n      title=\"流程转办\"\n      visible={visible}\n      onOk={_onOk}\n      onCancel={onCancel}\n      cancelText=\"取消\"\n      okText=\"确定\"\n    >\n      <Form\n        {...layout}\n        form={form} \n        name=\"basic\"\n        initialValues={{ remember: true }}\n        // onFinish={onFinish}\n        // onFinishFailed={onFinishFailed}\n      >\n        <Form.Item\n          label=\"转办人\"\n          name=\"targetUserId\"\n          rules={[{ required: true, message: \"请选择转办人\" }]}\n        >\n          <Select\n            showSearch\n            // style={{ width: 1 }}\n            placeholder=\"选择转办人\"\n            optionFilterProp=\"children\"\n            // onChange={onChange}\n            // onFocus={onFocus}\n            // onBlur={onBlur}\n            onSearch={_onSearch}\n          >\n            {\n              targetUserList.map((d, i) => <Select.Option key={i} value=\"jack\">Jack</Select.Option>)\n            }\n            {/* <Select.Option value=\"jack\">Jack</Select.Option>\n            <Select.Option value=\"lucy\">Lucy</Select.Option>\n            <Select.Option value=\"tom\">Tom</Select.Option> */}\n          </Select>\n        </Form.Item>\n\n        <Form.Item\n          label=\"转办理由\"\n          name=\"reason\"\n          rules={[{ required: true, message: \"请输入转办理由\" }]}\n        >\n          <Input.TextArea rows={4} placeholder=\"请输入转办理由\"></Input.TextArea>\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n}\n"],"file":"index.js"}