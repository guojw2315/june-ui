{"version":3,"sources":["../../src/components/flow-transfer-modal/index.jsx"],"names":["React","useEffect","useState","useRef","useCallback","api","layout","labelCol","span","wrapperCol","tailLayout","offset","FlowTransferModal","props","visible","request","onOk","onCancel","useForm","form","targetUserList","setTargetUserList","_onOk","validateFields","values","console","log","_onSearch","val","get","userList","res","remember","required","message","map","d","i"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,MAArC,EAA6CC,WAA7C,QAAgE,OAAhE;AAGA,OAAOC,GAAP,MAAgB,QAAhB;AAEA,IAAMC,MAAM,GAAG;AACbC,EAAAA,QAAQ,EAAE;AAAEC,IAAAA,IAAI,EAAE;AAAR,GADG;AAEbC,EAAAA,UAAU,EAAE;AAAED,IAAAA,IAAI,EAAE;AAAR;AAFC,CAAf;AAKA,IAAME,UAAU,GAAG;AACjBD,EAAAA,UAAU,EAAE;AAAEE,IAAAA,MAAM,EAAE,CAAV;AAAaH,IAAAA,IAAI,EAAE;AAAnB;AADK,CAAnB;AAIA,eAAe,SAASI,iBAAT,CAA2BC,KAA3B,EAAkC;AAAA,MACvCC,OADuC,GACFD,KADE,CACvCC,OADuC;AAAA,MAC9BC,OAD8B,GACFF,KADE,CAC9BE,OAD8B;AAAA,MACrBC,IADqB,GACFH,KADE,CACrBG,IADqB;AAAA,MACfC,QADe,GACFJ,KADE,CACfI,QADe;;AAAA,sBAGhC,MAAKC,OAAL,EAHgC;AAAA,MAGxCC,IAHwC;;AAAA,kBAIHjB,QAAQ,CAAC,EAAD,CAJL;AAAA,MAIxCkB,cAJwC;AAAA,MAIxBC,iBAJwB;;AAM/CpB,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIa,OAAJ,EAAa,CACZ;;AACD,WAAO,YAAM,CACZ,CADD;AAED,GALQ,EAKN,CAACA,OAAD,CALM,CAAT;;AAOA,MAAMQ,KAAK;AAAA,wEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEWH,IAAI,CAACI,cAAL,EAFX;;AAAA;AAEJC,cAAAA,MAFI;AAGV,kBAAI,OAAOR,IAAP,KAAgB,UAApB,EAAgCA,IAAI,CAACQ,MAAD,CAAJ;AAChCC,cAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,MAAxB;AAJU;AAAA;;AAAA;AAAA;AAAA;AAMVC,cAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;;AANU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAALJ,KAAK;AAAA;AAAA;AAAA,KAAX;;AAUA,MAAMK,SAAS;AAAA,yEAAG,kBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,mBAEVb,OAFU;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAGIA,OAAO,CAACc,GAAR,CAAYxB,GAAG,CAACyB,QAAJ,CAAaF,GAAb,CAAZ,CAHJ;;AAAA;AAGRG,cAAAA,GAHQ;AAIZN,cAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;;AAJY;AAAA;AAAA;;AAAA;AAAA;AAAA;AAOdN,cAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;;AAPc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAATC,SAAS;AAAA;AAAA;AAAA,KAAf;;AAWA,sBACE;AACE,IAAA,KAAK,EAAC,0BADR;AAEE,IAAA,OAAO,EAAEb,OAFX;AAGE,IAAA,IAAI,EAAEQ,KAHR;AAIE,IAAA,QAAQ,EAAEL,QAJZ;AAKE,IAAA,UAAU,EAAC,cALb;AAME,IAAA,MAAM,EAAC;AANT,kBAQE,wCACMX,MADN;AAEE,IAAA,IAAI,EAAEa,IAFR;AAGE,IAAA,IAAI,EAAC,OAHP;AAIE,IAAA,aAAa,EAAE;AAAEa,MAAAA,QAAQ,EAAE;AAAZ,KAJjB,CAKE;AACA;;AANF,mBAQE,0BAAM,IAAN;AACE,IAAA,KAAK,EAAC,oBADR;AAEE,IAAA,IAAI,EAAC,cAFP;AAGE,IAAA,KAAK,EAAE,CAAC;AAAEC,MAAAA,QAAQ,EAAE,IAAZ;AAAkBC,MAAAA,OAAO,EAAE;AAA3B,KAAD;AAHT,kBAKE;AACE,IAAA,UAAU,MADZ,CAEE;AAFF;AAGE,IAAA,WAAW,EAAC,gCAHd;AAIE,IAAA,gBAAgB,EAAC,UAJnB,CAKE;AACA;AACA;AAPF;AAQE,IAAA,QAAQ,EAAEP;AARZ,KAWIP,cAAc,CAACe,GAAf,CAAmB,UAACC,CAAD,EAAIC,CAAJ;AAAA,wBAAU,4BAAQ,MAAR;AAAe,MAAA,GAAG,EAAEA,CAApB;AAAuB,MAAA,KAAK,EAAC;AAA7B,cAAV;AAAA,GAAnB,CAXJ,CALF,CARF,eAgCE,0BAAM,IAAN;AACE,IAAA,KAAK,EAAC,0BADR;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,KAAK,EAAE,CAAC;AAAEJ,MAAAA,QAAQ,EAAE,IAAZ;AAAkBC,MAAAA,OAAO,EAAE;AAA3B,KAAD;AAHT,kBAKE,2BAAO,QAAP;AAAgB,IAAA,IAAI,EAAE,CAAtB;AAAyB,IAAA,WAAW,EAAC;AAArC,IALF,CAhCF,CARF,CADF;AAmDD","sourcesContent":["import React, { useEffect, useState, useRef, useCallback } from \"react\";\r\n\r\nimport { Button, Input, Modal, Select, Form } from \"antd\";\r\nimport api from '../api';\r\n\r\nconst layout = {\r\n  labelCol: { span: 4 },\r\n  wrapperCol: { span: 18 },\r\n};\r\n\r\nconst tailLayout = {\r\n  wrapperCol: { offset: 8, span: 16 },\r\n};\r\n\r\nexport default function FlowTransferModal(props) {\r\n  const { visible, request, onOk, onCancel } = props;\r\n\r\n  const [form] = Form.useForm();\r\n  const [targetUserList, setTargetUserList] = useState([])\r\n\r\n  useEffect(() => {\r\n    if (visible) {\r\n    }\r\n    return () => {\r\n    }\r\n  }, [visible])\r\n\r\n  const _onOk = async () => {\r\n    try {\r\n      const values = await form.validateFields();\r\n      if (typeof onOk === 'function') onOk(values)\r\n      console.log('Success:', values);\r\n    } catch (errorInfo) {\r\n      console.log('Failed:', errorInfo);\r\n    }\r\n  }\r\n\r\n  const _onSearch = async (val) => {\r\n    try {\r\n      if (request) {\r\n        let res = await request.get(api.userList(val))\r\n        console.log(res)\r\n      }\r\n    } catch (errorInfo) {\r\n      console.log('Failed:', errorInfo);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      title=\"流程转办\"\r\n      visible={visible}\r\n      onOk={_onOk}\r\n      onCancel={onCancel}\r\n      cancelText=\"取消\"\r\n      okText=\"确定\"\r\n    >\r\n      <Form\r\n        {...layout}\r\n        form={form} \r\n        name=\"basic\"\r\n        initialValues={{ remember: true }}\r\n        // onFinish={onFinish}\r\n        // onFinishFailed={onFinishFailed}\r\n      >\r\n        <Form.Item\r\n          label=\"转办人\"\r\n          name=\"targetUserId\"\r\n          rules={[{ required: true, message: \"请选择转办人\" }]}\r\n        >\r\n          <Select\r\n            showSearch\r\n            // style={{ width: 1 }}\r\n            placeholder=\"选择转办人\"\r\n            optionFilterProp=\"children\"\r\n            // onChange={onChange}\r\n            // onFocus={onFocus}\r\n            // onBlur={onBlur}\r\n            onSearch={_onSearch}\r\n          >\r\n            {\r\n              targetUserList.map((d, i) => <Select.Option key={i} value=\"jack\">Jack</Select.Option>)\r\n            }\r\n            {/* <Select.Option value=\"jack\">Jack</Select.Option>\r\n            <Select.Option value=\"lucy\">Lucy</Select.Option>\r\n            <Select.Option value=\"tom\">Tom</Select.Option> */}\r\n          </Select>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"转办理由\"\r\n          name=\"reason\"\r\n          rules={[{ required: true, message: \"请输入转办理由\" }]}\r\n        >\r\n          <Input.TextArea rows={4} placeholder=\"请输入转办理由\"></Input.TextArea>\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n}\r\n"],"file":"index.js"}