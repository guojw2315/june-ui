{"version":3,"sources":["../../src/components/flow-list/index.jsx"],"names":["React","useEffect","useState","useRef","FlowTabs","TabPane","FlowSearch","FlowFullScreen","CommonTable","api","FlowList","props","onTabChange","renderTabs","renderContent","TableComponent","TabsComponent","request","listApi","onLinkClick","data","tabProps","rest","_listApi","all","currentPage","pageSize","url","wait","accept","done","finishFlag","tabs","name","key","total","el","useForm","form","current","active","setAcitve","options","setOptions","searchParams","setSearchParams","rowKey","setRowKey","setUpdate","_fetchOptions","_onTabChange","method","dictProcessList","res","console","log","_afterFetchData","records","tab","find","d","test","Date","getTime","_onSearch","values","_renderTabs","Tabs","map","value","_renderSearch","renderSearch","_renderContent","column2","title","dataIndex","width","column3","columns","col","fixed","align","render","args","bind","page","size"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport FlowTabs, { TabPane } from \"../flow-tabs\";\nimport FlowSearch from \"../flow-list-section/flow-search\";\nimport { FlowFullScreen } from \"../index\";\nimport { CommonTable } from \"../index\";\n\nimport \"./style/index\";\nimport \"../flow-list-section/style\";\n\nimport { Table, Row, Col, Form, Input, Select, Button } from \"antd\";\n\n\nimport api from \"../api\";\n\nexport default function FlowList(props) {\n  const {\n    onTabChange,\n    renderTabs,\n    renderContent,\n    TableComponent,\n    TabsComponent,\n    request,\n    listApi,\n    onLinkClick,\n    data,\n    tabProps = {},\n    ...rest\n  } = props;\n\n  const _listApi = useRef({\n    all: (currentPage, pageSize) => ({\n      url: `/caas/osoBpmProcInst/completedProcPersonPage/${currentPage}/${pageSize}`,\n    }),\n    wait: (currentPage, pageSize) => ({\n      url: `/caas/osoBpmTask/waitTaskPage/${currentPage}/${pageSize}`,\n    }),\n    accept: (currentPage, pageSize) => ({\n      url: `/caas/osoBpmTask/completedTaskPage/${currentPage}/${pageSize}`,\n    }),\n    done: (currentPage, pageSize) => ({\n      url: `/caas/osoBpmProcInst/completedProcPersonPage/${currentPage}/${pageSize}`,\n      finishFlag: true,\n    }), // finishFlag: true\n  });\n\n  const tabs = useRef([\n    // { name: \"全部\", key: \"all\", total: 0, value: 0 },\n    { name: \"待审批\", key: \"wait\", total: 0 },\n    { name: \"已审批\", key: \"accept\", total: 0 },\n    // { name: \"已完结\", key: \"done\", total: 0 },\n  ]);\n\n  const el = useRef();\n  const [form] = Form.useForm();\n  const [active, setAcitve] = useState(tabs?.current[0]?.key);\n  const [options, setOptions] = useState([]); // 流程分类选项\n  const [searchParams, setSearchParams] = useState({});\n  const [rowKey, setRowKey] = useState(\"procInstId\");\n  const [, setUpdate] = useState(\"\");\n\n  useEffect(() => {\n    _fetchOptions();\n    return () => {};\n  }, []);\n\n  const _onTabChange = async (key) => {\n    setAcitve(key);\n    setSearchParams({ ...searchParams });\n    if (typeof onTabChange === \"function\") onTabChange(key);\n  };\n\n  const _fetchOptions = async () => {\n    if (request) {\n      try {\n        let res = await request({ method: \"GET\", url: api.dictProcessList() });\n        setOptions(res.data.data || []);\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  };\n\n  const _afterFetchData = ({ total, records } = {}) => {\n    let tab = tabs.current.find((d) => d.key === active);\n\n    if (tab) {\n      tab.total = total;\n    }\n\n    // // 设置全部 未审批数量\n    // if (active === \"wait\") {\n    //   tabs.current[0].value = total;\n    // }\n\n    setRowKey(/^wait$|^accept$/g.test(active) ? \"taskId\" : \"procInstId\");\n    setUpdate(new Date().getTime());\n  };\n\n  const _onSearch = (values) => {\n    setSearchParams(values);\n  };\n\n  const _renderTabs = () => {\n    if (typeof props.renderTabs === \"function\") return props.renderTabs(props);\n    const Tabs = TabsComponent || FlowTabs;\n    return (\n      <Tabs\n        defaultActiveKey={active}\n        onChange={_onTabChange}\n        tabBarExtraContent={<FlowFullScreen el={el} />}\n        {...tabProps}\n      >\n        {tabs.current?.map((d) => (\n          <TabPane\n            tab={`${d.name}（${d.value ? d.value + \"/\" : \"\"}${d.total}）`}\n            key={d.key}\n          ></TabPane>\n        ))}\n      </Tabs>\n    );\n  };\n\n  const _renderSearch = () => {\n    if (typeof props.renderSearch === \"function\")\n      return props.renderSearch(props);\n    return <FlowSearch onSearch={_onSearch} options={options} />;\n  };\n\n  const _renderContent = () => {\n    if (typeof props.renderContent === \"function\")\n      return props.renderContent(props);\n\n    // const column1 = [\n    //   {\n    //     title: \"状态\",\n    //     dataIndex: \"stateDesc\",\n    //     key: \"stateDesc\",\n    //     width: 100,\n    //   },\n    //   {\n    //     title: \"发起人\",\n    //     dataIndex: \"createdBy\",\n    //     key: \"createdBy\",\n    //     width: 100,\n    //   },\n    //   {\n    //     title: \"审批节点\",\n    //     dataIndex: \"currentNodeNames\",\n    //     key: \"currentNodeNames\",\n    //     width: 200,\n    //   },\n    //   {\n    //     title: \"审批人\",\n    //     dataIndex: \"auditorNames\",\n    //     key: \"auditorNames\",\n    //     width: 200,\n    //   },\n    //   {\n    //     title: \"流程发起时间\",\n    //     dataIndex: \"procCreateTime\",\n    //     key: \"procCreateTime\",\n    //     width: 200,\n    //   },\n\n    //   {\n    //     title: \"任务创建时间\",\n    //     dataIndex: \"currentFirstTaskCreatedTime\",\n    //     key: \"currentFirstTaskCreatedTime\",\n    //     width: 200,\n    //   },\n\n    //   {\n    //     title: \"结束日期\",\n    //     dataIndex: \"procEndTime\",\n    //     key: \"procEndTime\",\n    //     width: 200,\n    //   },\n    // ];\n\n    const column2 = [\n      {\n        title: \"审批节点\",\n        dataIndex: \"taskName\",\n        key: \"taskName\",\n        width: 180,\n      },,\n      {\n        title: \"审批人\",\n        dataIndex: \"auditorUserNames\",\n        key: \"auditorUserNames\",\n        width: 110,\n      },\n      {\n        title: \"流程创建日期\",\n        dataIndex: \"procCreateTime\",\n        key: \"procCreateTime\",\n        width: 200,\n      },\n      {\n        title: \"任务创建日期\",\n        dataIndex: \"taskCreateTime\",\n        key: \"taskCreateTime\",\n        width: 200,\n      },\n    ];\n\n    const column3 = [\n      {\n        title: \"状态\",\n        dataIndex: \"stateDesc\",\n        key: \"stateDesc\",\n        width: 100,\n      },\n      {\n        title: \"审批节点\",\n        dataIndex: \"taskName\",\n        key: \"taskName\",\n        width: 180,\n      },\n      {\n        title: \"审批人\",\n        dataIndex: \"auditorNames\",\n        key: \"auditorNames\",\n        width: 110,\n      },\n      {\n        title: \"流程创建日期\",\n        dataIndex: \"procCreateTime\",\n        key: \"procCreateTime\",\n        width: 200,\n      },\n      {\n        title: \"任务创建日期\",\n        dataIndex: \"taskCreateTime\",\n        key: \"taskCreateTime\",\n        width: 200,\n      },\n      {\n        title: \"流程结束日期\",\n        dataIndex: \"procEndDate\",\n        key: \"procEndDate\",\n        width: 200,\n      },\n    ];\n\n    const columns = (col = []) => [\n      {\n        title: \"流程标题\",\n        dataIndex: \"title\",\n        key: \"title\",\n        width: 200,\n      },\n      {\n        title: \"创建人\",\n        dataIndex: \"createdByName\",\n        key: \"createdByName\",\n        width: 110,\n      },\n      \n      ...col,\n      {\n        title: \"操作\",\n        dataIndex: \"\",\n        key: \"operations\",\n        fixed: \"right\",\n        align: \"center\",\n        width: 80,\n        // align: 'right',\n        render: (...args) => (\n          <a onClick={onLinkClick?.bind(this, ...args)}>查看</a>\n        ),\n      },\n    ];\n\n    return (\n      <div className=\"flow-list-main\">\n        {/* {active === \"all\" || active === \"done\" ? (\n          <CommonTable\n            rowKey=\"procInstId\"\n            columns={columns(column1)}\n            request={request}\n            queryParams={searchParams}\n            api={({ page, size } = {}) => _listApi.current[active](page, size)}\n            afterFetchData={_afterFetchData}\n          />\n        ) : null} */}\n\n        {active === \"wait\" ? (\n          <CommonTable\n            rowKey=\"taskId\"\n            columns={columns(column2)}\n            request={request}\n            queryParams={searchParams}\n            api={({ page, size } = {}) => _listApi.current[active](page, size)}\n            afterFetchData={_afterFetchData}\n          />\n        ) : null}\n\n          {active === \"accept\" ? (\n          <CommonTable\n            rowKey=\"taskId\"\n            columns={columns(column3)}\n            request={request}\n            queryParams={searchParams}\n            api={({ page, size } = {}) => _listApi.current[active](page, size)}\n            afterFetchData={_afterFetchData}\n          />\n        ) : null}\n      </div>\n    );\n  };\n  return (\n    <div className=\"flow-list\" ref={el}>\n      {_renderTabs()}\n      {_renderSearch()}\n      {_renderContent()}\n    </div>\n  );\n}\n"],"file":"index.js"}