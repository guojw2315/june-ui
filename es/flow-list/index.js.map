{"version":3,"sources":["../../src/components/flow-list/index.jsx"],"names":["React","useEffect","useState","useRef","FlowTabs","TabPane","RcTable","FlowList","props","onTabChange","renderTabs","renderContent","TableComponent","TabsComponent","tabProps","rest","_onTabChange","key","tabs","name","current","active","setAcitve","_renderTabs","Tabs","map","d","_renderContent","columns","title","dataIndex","width","fixed","align","render","args","onClick","bind","data","age","address","Table"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport FlowTabs, { TabPane } from \"../flow-tabs\";\nimport \"../flow-tabs/style\";\n\nimport RcTable from \"rc-table\";\nimport \"rc-table/assets/index.css\";\n\nexport default function FlowList(props) {\n  const { onTabChange, renderTabs, renderContent, TableComponent, TabsComponent, tabProps = {}, ...rest } = props;\n\n  const _onTabChange = (key) => {\n    // console.log(key)\n    onTabChange && onTabChange(key)\n  };\n\n  const tabs = useRef([\n    { name: \"全部（1/10）\", key: \"flow_all\" },\n    { name: \"待审批（1/10）\", key: \"flow_wait\" },\n    { name: \"已审批（1/10）\", key: \"flow_accept\" },\n    { name: \"已审批（1/10）\", key: \"flow_done\" },\n  ]);\n\n  const [active, setAcitve] = useState(tabs?.current[0]?.key);\n\n  const _renderTabs = () => {\n    if (typeof props.renderTabs === \"function\") return props.renderTabs(props);\n    const Tabs = TabsComponent || FlowTabs;\n    return (\n      <Tabs defaultActiveKey={active} onChange={_onTabChange} {...tabProps} >\n        {tabs.current?.map((d) => (\n          <TabPane tab={d.name} key={d.key}></TabPane>\n        ))}\n      </Tabs>\n    );\n  };\n\n  const _renderContent = () => {\n    if (typeof props.renderContent === \"function\")\n      return props.renderContent(props);\n    const columns = [\n      {\n        title: \"流程标题\",\n        dataIndex: \"title\",\n        key: \"title\",\n        width: 200,\n      },\n      {\n        title: \"状态\",\n        dataIndex: \"stateDesc\",\n        key: \"stateDesc\",\n        width: 100,\n      },\n      {\n        title: \"发起人\",\n        dataIndex: \"createdBy\",\n        key: \"createdBy\",\n        width: 100,\n      },\n      {\n        title: \"审批节点\",\n        dataIndex: \"currentNodeNames\",\n        key: \"currentNodeNames\",\n        width: 200,\n      },\n      {\n        title: \"审批人\",\n        dataIndex: \"auditorNames\",\n        key: \"auditorNames\",\n        width: 200,\n      },\n      {\n        title: \"流程发起时间\",\n        dataIndex: \"procCreateTime\",\n        key: \"procCreateTime\",\n        width: 200,\n      },\n\n      {\n        title: \"任务创建时间\",\n        dataIndex: \"currentFirstTaskCreatedTime\",\n        key: \"currentFirstTaskCreatedTime\",\n        width: 200,\n      },\n\n      {\n        title: \"结束日期\",\n        dataIndex: \"procEndTime\",\n        key: \"procEndTime\",\n        width: 200,\n      },\n\n      {\n        title: \"操作\",\n        dataIndex: \"\",\n        key: \"operations\",\n        fixed: \"right\",\n        align: 'center',\n        width: 80,\n        // align: 'right',\n        render: (...args) => (\n          <a onClick={props?.onClick?.bind(this, ...args)}>查看</a>\n        ),\n      },\n    ];\n\n    const data = [\n      { name: \"Jack\", age: 28, address: \"some where\", key: \"1\" },\n      { name: \"Rose\", age: 36, address: \"some where\", key: \"2\" },\n    ];\n\n    const Table = TableComponent || RcTable;\n    \n    return (\n      <div className=\"flow-list-main\">\n        <Table columns={columns} data={data} {...rest} />\n      </div>\n    );\n  };\n  return (\n    <div className=\"flow-list\">\n      {_renderTabs()}\n      {_renderContent()}\n    </div>\n  );\n}\n"],"file":"index.js"}