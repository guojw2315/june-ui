{"version":3,"sources":["../../src/components/FlowList/index.jsx"],"names":["React","useEffect","useState","useRef","FlowTabs","TabPane","RcTable","FlowList","props","onTabChange","renderTabs","renderContent","Table","Tabs","tabProps","rest","_onTabChange","key","console","log","tabs","name","current","active","setAcitve","_renderTabs","TabsComponent","map","d","_renderContent","columns","title","dataIndex","width","fixed","align","render","args","onClick","bind","data","age","address","TableComponent"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,OAAOC,QAAP,IAAmBC,OAAnB,QAAkC,aAAlC;AACA,OAAO,mBAAP;AAEA,OAAOC,OAAP,MAAoB,UAApB;AACA,OAAO,2BAAP;AAEA,eAAe,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AAAA;AAAA;;AAAA,MAC9BC,WAD8B,GACkDD,KADlD,CAC9BC,WAD8B;AAAA,MACjBC,UADiB,GACkDF,KADlD,CACjBE,UADiB;AAAA,MACLC,aADK,GACkDH,KADlD,CACLG,aADK;AAAA,MACUC,KADV,GACkDJ,KADlD,CACUI,KADV;AAAA,MACiBC,IADjB,GACkDL,KADlD,CACiBK,IADjB;AAAA,wBACkDL,KADlD,CACuBM,QADvB;AAAA,MACuBA,QADvB,gCACkC,EADlC;AAAA,MACyCC,IADzC,iCACkDP,KADlD;;AAGtC,MAAMQ,YAAY,GAAG,SAAfA,YAAe,CAACC,GAAD,EAAS;AAC5BC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAR,IAAAA,WAAW,IAAIA,WAAW,CAACQ,GAAD,CAA1B;AACD,GAHD;;AAKA,MAAMG,IAAI,GAAGjB,MAAM,CAAC,CAClB;AAAEkB,IAAAA,IAAI,EAAE,UAAR;AAAoBJ,IAAAA,GAAG,EAAE;AAAzB,GADkB,EAElB;AAAEI,IAAAA,IAAI,EAAE,WAAR;AAAqBJ,IAAAA,GAAG,EAAE;AAA1B,GAFkB,EAGlB;AAAEI,IAAAA,IAAI,EAAE,WAAR;AAAqBJ,IAAAA,GAAG,EAAE;AAA1B,GAHkB,EAIlB;AAAEI,IAAAA,IAAI,EAAE,WAAR;AAAqBJ,IAAAA,GAAG,EAAE;AAA1B,GAJkB,CAAD,CAAnB;;AARsC,kBAeVf,QAAQ,CAACkB,IAAD,aAACA,IAAD,yCAACA,IAAI,CAAEE,OAAN,CAAc,CAAd,CAAD,mDAAC,eAAkBL,GAAnB,CAfE;AAAA,MAe/BM,MAf+B;AAAA,MAevBC,SAfuB;;AAiBtC,MAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AAAA;;AACxB,QAAI,OAAOjB,KAAK,CAACE,UAAb,KAA4B,UAAhC,EAA4C,OAAOF,KAAK,CAACE,UAAN,CAAiBF,KAAjB,CAAP;AAC5C,QAAMkB,aAAa,GAAGlB,KAAK,CAACK,IAAN,IAAcT,QAApC;AACA,wBACE,oBAAC,aAAD;AAAe,MAAA,gBAAgB,EAAEmB,MAAjC;AAAyC,MAAA,QAAQ,EAAEP;AAAnD,OAAqEF,QAArE,oBACGM,IAAI,CAACE,OADR,kDACG,cAAcK,GAAd,CAAkB,UAACC,CAAD;AAAA,0BACjB,oBAAC,OAAD;AAAS,QAAA,GAAG,EAAEA,CAAC,CAACP,IAAhB;AAAsB,QAAA,GAAG,EAAEO,CAAC,CAACX;AAA7B,QADiB;AAAA,KAAlB,CADH,CADF;AAOD,GAVD;;AAYA,MAAMY,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC3B,QAAI,OAAOrB,KAAK,CAACG,aAAb,KAA+B,UAAnC,EACE,OAAOH,KAAK,CAACG,aAAN,CAAoBH,KAApB,CAAP;AACF,QAAMsB,OAAO,GAAG,CACd;AACEC,MAAAA,KAAK,EAAE,MADT;AAEEC,MAAAA,SAAS,EAAE,OAFb;AAGEf,MAAAA,GAAG,EAAE,OAHP;AAIEgB,MAAAA,KAAK,EAAE;AAJT,KADc,EAOd;AACEF,MAAAA,KAAK,EAAE,IADT;AAEEC,MAAAA,SAAS,EAAE,WAFb;AAGEf,MAAAA,GAAG,EAAE,WAHP;AAIEgB,MAAAA,KAAK,EAAE;AAJT,KAPc,EAad;AACEF,MAAAA,KAAK,EAAE,KADT;AAEEC,MAAAA,SAAS,EAAE,WAFb;AAGEf,MAAAA,GAAG,EAAE;AAHP,KAbc,EAkBd;AACEc,MAAAA,KAAK,EAAE,MADT;AAEEC,MAAAA,SAAS,EAAE,kBAFb;AAGEf,MAAAA,GAAG,EAAE;AAHP,KAlBc,EAuBd;AACEc,MAAAA,KAAK,EAAE,KADT;AAEEC,MAAAA,SAAS,EAAE,cAFb;AAGEf,MAAAA,GAAG,EAAE;AAHP,KAvBc,EA4Bd;AACEc,MAAAA,KAAK,EAAE,QADT;AAEEC,MAAAA,SAAS,EAAE,gBAFb;AAGEf,MAAAA,GAAG,EAAE;AAHP,KA5Bc,EAkCd;AACEc,MAAAA,KAAK,EAAE,QADT;AAEEC,MAAAA,SAAS,EAAE,6BAFb;AAGEf,MAAAA,GAAG,EAAE;AAHP,KAlCc,EAwCd;AACEc,MAAAA,KAAK,EAAE,MADT;AAEEC,MAAAA,SAAS,EAAE,aAFb;AAGEf,MAAAA,GAAG,EAAE;AAHP,KAxCc,EA8Cd;AACEc,MAAAA,KAAK,EAAE,IADT;AAEEC,MAAAA,SAAS,EAAE,EAFb;AAGEf,MAAAA,GAAG,EAAE,YAHP;AAIEiB,MAAAA,KAAK,EAAE,OAJT;AAKEC,MAAAA,KAAK,EAAE,QALT;AAMEF,MAAAA,KAAK,EAAE,EANT;AAOE;AACAG,MAAAA,MAAM,EAAE;AAAA;;AAAA,0CAAIC,IAAJ;AAAIA,UAAAA,IAAJ;AAAA;;AAAA,4BACN;AAAG,UAAA,OAAO,EAAE7B,KAAF,aAAEA,KAAF,yCAAEA,KAAK,CAAE8B,OAAT,mDAAE,eAAgBC,IAAhB,wBAAqB,KAArB,SAA8BF,IAA9B;AAAZ,0BADM;AAAA;AARV,KA9Cc,CAAhB;AA4DA,QAAMG,IAAI,GAAG,CACX;AAAEnB,MAAAA,IAAI,EAAE,MAAR;AAAgBoB,MAAAA,GAAG,EAAE,EAArB;AAAyBC,MAAAA,OAAO,EAAE,YAAlC;AAAgDzB,MAAAA,GAAG,EAAE;AAArD,KADW,EAEX;AAAEI,MAAAA,IAAI,EAAE,MAAR;AAAgBoB,MAAAA,GAAG,EAAE,EAArB;AAAyBC,MAAAA,OAAO,EAAE,YAAlC;AAAgDzB,MAAAA,GAAG,EAAE;AAArD,KAFW,CAAb;AAKA,QAAM0B,cAAc,GAAG/B,KAAK,IAAIN,OAAhC;AACAY,IAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AACA,wBACE;AAAK,MAAA,SAAS,EAAC;AAAf,oBACE,oBAAC,cAAD;AAAgB,MAAA,OAAO,EAAEe,OAAzB;AAAkC,MAAA,IAAI,EAAEU;AAAxC,OAAkDzB,IAAlD,EADF,CADF;AAKD,GA3ED;;AA4EA,sBACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACGU,WAAW,EADd,EAEGI,cAAc,EAFjB,CADF;AAMD","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport FlowTabs, { TabPane } from \"../FlowTabs\";\r\nimport \"../FlowTabs/style\";\r\n\r\nimport RcTable from \"rc-table\";\r\nimport \"rc-table/assets/index.css\";\r\n\r\nexport default function FlowList(props) {\r\n  const { onTabChange, renderTabs, renderContent, Table, Tabs, tabProps = {}, ...rest } = props;\r\n\r\n  const _onTabChange = (key) => {\r\n    console.log(key)\r\n    onTabChange && onTabChange(key)\r\n  };\r\n\r\n  const tabs = useRef([\r\n    { name: \"全部（1/10）\", key: \"flow_all\" },\r\n    { name: \"待审批（1/10）\", key: \"flow_wait\" },\r\n    { name: \"已审批（1/10）\", key: \"flow_accept\" },\r\n    { name: \"已审批（1/10）\", key: \"flow_done\" },\r\n  ]);\r\n\r\n  const [active, setAcitve] = useState(tabs?.current[0]?.key);\r\n\r\n  const _renderTabs = () => {\r\n    if (typeof props.renderTabs === \"function\") return props.renderTabs(props);\r\n    const TabsComponent = props.Tabs || FlowTabs;\r\n    return (\r\n      <TabsComponent defaultActiveKey={active} onChange={_onTabChange} {...tabProps} >\r\n        {tabs.current?.map((d) => (\r\n          <TabPane tab={d.name} key={d.key}></TabPane>\r\n        ))}\r\n      </TabsComponent>\r\n    );\r\n  };\r\n\r\n  const _renderContent = () => {\r\n    if (typeof props.renderContent === \"function\")\r\n      return props.renderContent(props);\r\n    const columns = [\r\n      {\r\n        title: \"流程标题\",\r\n        dataIndex: \"title\",\r\n        key: \"title\",\r\n        width: 200,\r\n      },\r\n      {\r\n        title: \"状态\",\r\n        dataIndex: \"stateDesc\",\r\n        key: \"stateDesc\",\r\n        width: 100,\r\n      },\r\n      {\r\n        title: \"发起人\",\r\n        dataIndex: \"createdBy\",\r\n        key: \"createdBy\",\r\n      },\r\n      {\r\n        title: \"审批节点\",\r\n        dataIndex: \"currentNodeNames\",\r\n        key: \"currentNodeNames\",\r\n      },\r\n      {\r\n        title: \"审批人\",\r\n        dataIndex: \"auditorNames\",\r\n        key: \"auditorNames\",\r\n      },\r\n      {\r\n        title: \"流程发起时间\",\r\n        dataIndex: \"procCreateTime\",\r\n        key: \"procCreateTime\",\r\n      },\r\n\r\n      {\r\n        title: \"任务创建时间\",\r\n        dataIndex: \"currentFirstTaskCreatedTime\",\r\n        key: \"currentFirstTaskCreatedTime\",\r\n      },\r\n\r\n      {\r\n        title: \"结束日期\",\r\n        dataIndex: \"procEndTime\",\r\n        key: \"procEndTime\",\r\n      },\r\n\r\n      {\r\n        title: \"操作\",\r\n        dataIndex: \"\",\r\n        key: \"operations\",\r\n        fixed: \"right\",\r\n        align: 'center',\r\n        width: 80,\r\n        // align: 'right',\r\n        render: (...args) => (\r\n          <a onClick={props?.onClick?.bind(this, ...args)}>查看</a>\r\n        ),\r\n      },\r\n    ];\r\n\r\n    const data = [\r\n      { name: \"Jack\", age: 28, address: \"some where\", key: \"1\" },\r\n      { name: \"Rose\", age: 36, address: \"some where\", key: \"2\" },\r\n    ];\r\n\r\n    const TableComponent = Table || RcTable;\r\n    console.log(rest)\r\n    return (\r\n      <div className=\"flow-list-main\">\r\n        <TableComponent columns={columns} data={data} {...rest} />\r\n      </div>\r\n    );\r\n  };\r\n  return (\r\n    <div className=\"flow-list\">\r\n      {_renderTabs()}\r\n      {_renderContent()}\r\n    </div>\r\n  );\r\n}\r\n"],"file":"index.js"}